{"version":3,"file":"static/js/784.d03f9a2d.chunk.js","mappings":"sQACA,QAA6B,kC,aCsB7B,MAwDA,EAxDsBA,KACpB,MAAMC,GAAWC,EAAAA,EAAAA,OACX,GAAEC,IAAOC,EAAAA,EAAAA,KACTC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,IACxBC,GAAWF,EAAAA,EAAAA,IAAYG,EAAAA,IACvBC,GAAcJ,EAAAA,EAAAA,IAAYK,EAAAA,IAC1BC,GAAaN,EAAAA,EAAAA,IAAYO,EAAAA,IACzBC,GAAQR,EAAAA,EAAAA,IAAYS,EAAAA,IA6B1B,OA3BAC,EAAAA,EAAAA,YAAU,KACRf,GAASgB,EAAAA,EAAAA,IAAQ,KACjBhB,GAASiB,EAAAA,EAAAA,IAAQ,IACjBjB,GAASkB,EAAAA,EAAAA,IAAc,IAChB,KACLlB,GAASgB,EAAAA,EAAAA,IAAQ,KACjBhB,GAASiB,EAAAA,EAAAA,IAAQ,IACjBjB,GAASkB,EAAAA,EAAAA,IAAc,GAAG,IAE3B,CAAClB,KAEJe,EAAAA,EAAAA,YAAU,KACR,WACEf,GAASgB,EAAAA,EAAAA,IAAQ,KACjB,IACEhB,GAASmB,EAAAA,EAAAA,KAAa,IACtB,MAAMC,QAAaC,EAAAA,EAAAA,IAAiB,CAAEnB,KAAIoB,KAAMb,EAAaI,UAC7Db,GAASkB,EAAAA,EAAAA,IAAcK,OAAOH,EAAKI,SACnCxB,GAASgB,EAAAA,EAAAA,IAAQI,EAAKK,WACxB,CAAE,MAAOC,IACPC,EAAAA,EAAAA,IAAUD,EAAME,QAClB,CAAC,QACC5B,GAASmB,EAAAA,EAAAA,KAAa,GACxB,CACD,EAZD,EAYI,GACH,CAACjB,EAAIO,EAAaI,EAAOb,KAG1B6B,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACG3B,GACCyB,EAAAA,EAAAA,KAACG,EAAAA,QAAM,IACLzB,EAAS0B,OAAS,GACpBC,EAAAA,EAAAA,MAAAJ,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,KAACM,EAAAA,EAAS,CAACC,cAAc,EAAOC,KAAM9B,IACrCI,EAAaE,IAASgB,EAAAA,EAAAA,KAACS,EAAAA,EAAc,CAACd,MAAOb,QAGhDkB,EAAAA,EAAAA,KAAA,KAAGU,UAAWC,EAAaT,SAAC,qJAM7B,C","sources":["webpack://react-homework-template/./src/pages/ProfilePage/UserFollowers/UserFollowers.module.scss?e532","pages/ProfilePage/UserFollowers/UserFollowers.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"empty_text\":\"UserFollowers_empty_text__ffTDK\"};","import { getUserFollowers } from 'api/users';\nimport ListItems from '../ListItems/ListItems';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectLimit,\n  selectList,\n  selectListLoading,\n  selectPage,\n  selectTotalUsers,\n} from '../../../redux/selectors';\nimport {\n  setIsLoading,\n  setList,\n  setPage,\n  setTotalUsers,\n} from '../../../redux/reducers/listReducer';\nimport { useParams } from 'react-router-dom';\nimport { showError } from 'api/api.utils';\nimport Loader from 'components/Loader/Loader';\nimport ListPagination from '../ListPagination/ListPagination';\nimport s from './UserFollowers.module.scss';\n\nconst UserFollowers = () => {\n  const dispatch = useDispatch();\n  const { id } = useParams();\n  const isLoading = useSelector(selectListLoading);\n  const userList = useSelector(selectList);\n  const currentPage = useSelector(selectPage);\n  const totalUsers = useSelector(selectTotalUsers);\n  const limit = useSelector(selectLimit);\n\n  useEffect(() => {\n    dispatch(setList([]));\n    dispatch(setPage(1));\n    dispatch(setTotalUsers(0));\n    return () => {\n      dispatch(setList([]));\n      dispatch(setPage(1));\n      dispatch(setTotalUsers(0));\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    (async () => {\n      dispatch(setList([]));\n      try {\n        dispatch(setIsLoading(true));\n        const data = await getUserFollowers({ id, page: currentPage, limit });\n        dispatch(setTotalUsers(Number(data.total)));\n        dispatch(setList(data.followers));\n      } catch (error) {\n        showError(error.message);\n      } finally {\n        dispatch(setIsLoading(false));\n      }\n    })();\n  }, [id, currentPage, limit, dispatch]);\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader />\n      ) : userList.length > 0 ? (\n        <>\n          <ListItems isRecipeCard={false} list={userList} />\n          {totalUsers > limit && <ListPagination total={totalUsers} />}\n        </>\n      ) : (\n        <p className={s.empty_text}>\n          There are currently no followers on your account. Please engage our\n          visitors with interesting content and draw their attention to your\n          profile.\n        </p>\n      )}\n    </>\n  );\n};\n\nexport default UserFollowers;\n"],"names":["UserFollowers","dispatch","useDispatch","id","useParams","isLoading","useSelector","selectListLoading","userList","selectList","currentPage","selectPage","totalUsers","selectTotalUsers","limit","selectLimit","useEffect","setList","setPage","setTotalUsers","setIsLoading","data","getUserFollowers","page","Number","total","followers","error","showError","message","_jsx","_Fragment","children","Loader","length","_jsxs","ListItems","isRecipeCard","list","ListPagination","className","s"],"sourceRoot":""}