/*! For license information please see 1.9d8e858d.chunk.js.LICENSE.txt */
(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[1],{7160:(e,t,a)=>{"use strict";a.d(t,{HK:()=>u,Kk:()=>p,OV:()=>c,PS:()=>d,c1:()=>o,cX:()=>_,dU:()=>n,gv:()=>l,qt:()=>r});var i=a(6213),s=a(5656);const r=async function(){let{page:e,limit:t,category:a,area:s,ingredients:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await i.A.get("recipes",{params:{...e?{page:e}:null,...t?{limit:t}:null,...a?{category:a}:null,...s?{area:s}:null,...r?{ingredients:r}:null}})).data},n=async e=>{let{id:t}=e;try{return(await i.A.get("/recipes/".concat(t))).data}catch(a){(0,s.r4)(a)}},c=async e=>{let{page:t=1,limit:a=10,recipeIds:r}=e;try{return(await i.A.get("/recipes/favorites",{params:{page:t,limit:a,...r&&r.length?{recipeIds:JSON.stringify(r)}:null}})).data}catch(n){(0,s.r4)(n)}},l=async e=>{let{recipeId:t}=e;try{return(await i.A.post("/recipes/".concat(t,"/favorites"))).data}catch(a){(0,s.r4)(a)}},o=async e=>{let{recipeId:t}=e;try{return(await i.A.delete("/recipes/".concat(t,"/favorites"))).data}catch(a){(0,s.r4)(a)}},d=async()=>{try{return(await i.A.get("/recipes/popular")).data}catch(e){(0,s.r4)(e)}},u=async e=>{let{owner:t,page:a=1,limit:r=10}=e;try{return(await i.A.get("/recipes/user-recipes",{params:{owner:t,page:a,limit:r}})).data}catch(n){(0,s.r4)(n)}},p=async e=>{try{return(await i.A.post("/recipes",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){(0,s.r4)(t)}},_=async e=>{try{return(await i.A.delete("/recipes/".concat(e))).data}catch(t){(0,s.r4)(t)}}},4506:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});a(5043);var i=a(7182),s=a(579);const r=e=>{let{name:t,className:a=""}=e;return(0,s.jsx)("svg",{className:a,children:(0,s.jsx)("use",{xlinkHref:"".concat(i.A,"#").concat(t)})})}},4475:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});a(5043);const i={button:"RoundButton_button__gOFkP",icon:"RoundButton_icon__5EP-B",favorite:"RoundButton_favorite__WiVpE",arrowLight:"RoundButton_arrowLight__Rf8xn",buttonLightStroke:"RoundButton_buttonLightStroke__6kp+e"};var s=a(4506),r=a(8139),n=a.n(r),c=a(579);const l=e=>{let{iconName:t="icon-arrow-up-right",className:a="",iconClassName:r="",onClick:l}=e;return(0,c.jsx)("button",{className:n()(i.button,i[a]),onClick:l,children:(0,c.jsx)(s.A,{name:t,className:n()(i.icon,i[r])})})}},6087:(e,t,a)=>{"use strict";a.d(t,{A:()=>L});const i="UserCard_user_card__e2azl",s="UserCard_wrapper__SWV5A",r="UserCard_avatar__2m0Mf",n="UserCard_name__Rxd2K",c="UserCard_text__lYmlO",l="UserCard_follow_button__N4DIz",o="UserCard_disabled__PquMh",d="UserCard_recipe_list__gp986";var u=a(4475),p=a(8179),_=a(3216),m=a(3003),g=a(3719),h=a(5043),f=a(3775),w=a(5656);const x="RecipeImage_recipe_image__ZtrXN";var v=a(579);const y=e=>{const t=e.recipe,[a,i]=(0,h.useState)(t.thum);return(0,h.useEffect)((()=>{i((0,w.AE)(null===t||void 0===t?void 0:t.thumb))}),[t.thumb]),(0,v.jsx)("li",{children:(0,v.jsx)("img",{className:x,src:(0,w.AE)(a),alt:""})},t._id)},j=e=>{const[t,a]=(0,h.useState)(window.innerWidth),x=(0,m.d4)(f.s0),j=(0,m.d4)(f.SS),N=(0,_.zy)().pathname.split("/"),A=N[N.length-1],C=(0,_.Zp)(),b=(0,m.d4)(f.xu);(0,h.useEffect)((()=>{function e(){a(window.innerWidth)}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[t]);const S=(0,m.wA)(),{id:I}=(0,_.g)(),{_id:k,name:R,avatarURL:F,recipesCount:E,isFollowing:U=!0,recipes:L}=e.user,[P,O]=(0,h.useState)(U);return(0,v.jsx)(v.Fragment,{children:void 0!==R&&(0,v.jsxs)("li",{className:i,children:[(0,v.jsxs)("div",{className:s,children:[(0,v.jsx)("img",{className:r,src:(0,w.U9)(F),alt:"user avatar"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:n,children:R}),(0,v.jsxs)("p",{className:c,children:["Own recipes: ",E]}),P?(0,v.jsx)("button",{className:l,onClick:()=>{(async()=>{try{if(!I||!k)return;const e=await(0,p.Qt)(k);if("followers"===A){const e=await(0,p.ri)({id:I,page:x,limit:j});S((0,g.dT)(e.followers))}else if("following"===A){const e=await(0,p.Vf)({id:I,page:x,limit:j});S((0,g.dT)(e.following))}b.id===I&&S((0,g.Uy)(e.following.length)),O(!1)}catch(e){(0,w.Qg)(e.message)}})()},children:"Following"}):(0,v.jsx)("button",{className:"".concat(l," ").concat(b.id===k&&o),onClick:()=>{(async()=>{try{if(!I||!k)return;const e=await(0,p.pV)(k),t=await(0,p.ri)({id:I,page:x,limit:j});S((0,g.dT)(t.followers)),b.id===I&&S((0,g.Uy)(e.following.length)),O(!0)}catch(e){(0,w.Qg)(e.message)}})()},children:"Follow"})]})]}),t>=768&&t<1440&&(0,v.jsx)("ul",{className:d,children:L.slice(0,3).map((e=>(0,v.jsx)(y,{recipe:e},e._id)))}),t>=1440&&(0,v.jsx)("ul",{className:d,children:L.map((e=>(0,v.jsx)(y,{recipe:e},e._id)))}),(0,v.jsx)(u.A,{onClick:()=>C("/user/".concat(k,"/recipies"))})]})})};var N=a(7160);const A=e=>{let{recipeId:t,isFavorite:a=!1}=e;const i=(0,m.wA)(),s=(0,m.d4)(f.Cp),r=(0,m.d4)(f.s0),n=(0,m.d4)(f.ft);return(0,v.jsx)(u.A,{iconName:"icon-trash",className:"",onClick:a?async()=>{try{await(0,N.c1)({recipeId:t}),i((0,g.$z)(t));const e=s-1;i((0,g.CI)(e)),e%n===0&&e/n<s/n&&i((0,g.Ir)(r-1))}catch(e){(0,w.Qg)(e.message)}}:async()=>{try{if(!t)return;await(0,N.cX)(t),i((0,g.$z)(t))}catch(e){(0,w.Qg)(e.message)}}})},C="RecipeItem_recipe_card__iKs9j",b="RecipeItem_thumb_wrapper__xNhKD",S="RecipeItem_recipe_thumb__j5xwn",I="RecipeItem_recipe_info__H9cpu",k="RecipeItem_recipe_title__aqPJ6",R="RecipeItem_recipe_description__CixJW",F="RecipeItem_button_group__eFq1Y",E=e=>{let{recipe:t,isFavorite:a}=e;const i=(0,_.Zp)(),{id:s}=(0,_.g)(),{user:r}=(0,m.d4)((e=>e.auth)),[n,c]=(0,h.useState)(!1),[l,o]=(0,h.useState)(t.thumb);return(0,h.useEffect)((()=>{r&&r.id&&s&&c(r.id===s)}),[r,s]),(0,h.useEffect)((()=>{o((0,w.AE)(null===t||void 0===t?void 0:t.thumb))}),[t.thumb]),(0,v.jsxs)("li",{className:C,children:[(0,v.jsx)("div",{className:b,children:(0,v.jsx)("img",{src:l,alt:t.title,className:S,onError:()=>o("".concat("/team-project-foodies-frontend","/image-placeholder.svg"))})}),(0,v.jsxs)("div",{className:I,children:[(0,v.jsx)("p",{className:k,children:t.title}),(0,v.jsx)("p",{className:R,children:t.description})]}),(0,v.jsxs)("div",{className:F,children:[(0,v.jsx)(u.A,{onClick:()=>i("/recipe/".concat(t._id))}),n&&(0,v.jsx)(A,{recipeId:t._id,isFavorite:a})]})]})},U="ListItems_list_items__S0u1Q",L=e=>{let{isRecipeCard:t,list:a,isFavorite:i}=e;return(0,v.jsx)("ul",{className:t?U:"",children:t?a.map((e=>(0,v.jsx)(E,{recipe:e,isFavorite:i},e._id))):a.map((e=>(0,v.jsx)(j,{user:e},e._id)))})}},691:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var i=a(3003);const s="ListPagination_pagination_elements__8n2b3",r="ListPagination_pagination_element__gehMs",n="ListPagination_pagination_element_active__00LNg";var c=a(3775),l=a(3719),o=a(579);const d=e=>{let{total:t}=e;const a=(0,i.wA)(),d=(0,i.d4)(c.s0),u=(0,i.d4)(c.SS),p=Math.ceil(t/u),_=Array.from({length:p},((e,t)=>t+1)),m=e=>{a((0,l.Ir)(e))};return p>1&&(0,o.jsx)("ul",{className:s,children:_.map(((e,t)=>1===e||e===p||e>=d-1&&e<=d+1?(0,o.jsx)("li",{className:"".concat(r," ").concat(d===e?n:""),onClick:()=>m(e),children:e},e):2===e&&d>3||e===p-1&&d<p-2?2===e&&4===d||e===p-1&&d===p-3?null:(0,o.jsx)("li",{className:r,children:"..."},e):null))})}},6001:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var i=a(7160),s=a(5043),r=a(6087),n=a(691),c=a(3003),l=a(3775),o=a(3719),d=a(5656),u=a(8958);const p="MyFavorites_empty_text__QSj10";var _=a(579);const m=()=>{const e=(0,c.wA)(),t=(0,c.d4)(l.TM),a=(0,c.d4)(l.fr),m=(0,c.d4)(l.s0),g=(0,c.d4)(l.Cp),h=(0,c.d4)(l.SS);return(0,s.useEffect)((()=>()=>{e((0,o.dT)([])),e((0,o.Ir)(1))}),[e]),(0,s.useEffect)((()=>{(async()=>{try{e((0,o.F6)(!0));const t=await(0,i.OV)({page:m,limit:h});e((0,o.dT)(t.recipes))}catch(t){(0,d.Qg)(t.message)}finally{e((0,o.F6)(!1))}})()}),[m,h,e]),(0,_.jsx)(_.Fragment,{children:t?(0,_.jsx)(u.default,{}):a.length>0?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.A,{isRecipeCard:!0,list:a,isFavorite:!0}),g&&(0,_.jsx)(n.A,{total:g})]}):(0,_.jsx)("p",{className:p,children:"Nothing has been added to your favorite recipes list yet. Please browse our recipes and add your favorites for easy access in the future."})})}},3775:(e,t,a)=>{"use strict";a.d(t,{Cp:()=>n,Ef:()=>c,Oe:()=>l,SS:()=>d,TM:()=>u,fr:()=>s,ft:()=>p,s0:()=>o,tH:()=>r,xu:()=>i});const i=e=>e.auth.user,s=e=>e.list.list,r=e=>e.list.totalUsers,n=e=>e.list.favorites,c=e=>e.list.followers,l=e=>e.list.following,o=e=>e.list.page,d=e=>e.list.limit,u=e=>e.list.isLoading,p=e=>e.list.limit},8139:(e,t)=>{var a;!function(){"use strict";var i={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=n(e,r(a)))}return e}function r(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)i.call(e,a)&&e[a]&&(t=n(t,a));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(a=function(){return s}.apply(t,[]))||(e.exports=a)}()}}]);
//# sourceMappingURL=1.9d8e858d.chunk.js.map