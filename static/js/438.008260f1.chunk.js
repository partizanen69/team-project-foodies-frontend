"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[438,781,594],{8312:(s,e,a)=>{a.d(e,{A:()=>v});var l=a(2242),t=a(8139),o=a.n(t);const i={icon:"Icons_icon__7UlIp"};var n=a(7182),r=a(579);const c=s=>{let{id:e,className:a,width:l,height:t}=s;return(0,r.jsx)("svg",{width:l,height:t,id:e,className:o()(i.icons,a),children:(0,r.jsx)("use",{xlinkHref:"".concat(n.A,"#").concat(e)})})},d=[{id:"facebook",link:"https://www.facebook.com/goITclub/"},{id:"instagram",link:"https://www.instagram.com/goitclub/"},{id:"youtube",link:"https://www.youtube.com/c/GoIT"}],_="NetworkLinks_networkLinks__BfmH8",u="NetworkLinks_networkLink__TnYOO",m=()=>(0,r.jsx)("ul",{className:_,children:d.map((s=>{let{id:e,link:a}=s;return(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:a,className:u,target:"_blank",rel:"nofollow noopener noreferrer",children:(0,r.jsx)(c,{id:e,width:20,height:20})})},e)}))}),h="CopyRight_copyright__rdjXI",x=()=>(0,r.jsx)("span",{className:h,children:"@2024, Foodies. All rights reserved"});var f=a(5475);const j="Logo_logo__n9+zU",p=()=>(0,r.jsx)(f.k2,{to:"/",className:j,children:"foodies"}),w="Footer_top__XfDGF",g="Footer_bottom__J7kjW",v=()=>(0,r.jsxs)("footer",{children:[(0,r.jsx)(l.default,{children:(0,r.jsxs)("div",{className:w,children:[(0,r.jsx)(p,{}),(0,r.jsx)(m,{})]})}),(0,r.jsx)("div",{className:g,children:(0,r.jsx)(x,{})})]})},9781:(s,e,a)=>{a.r(e),a.d(e,{default:()=>h});var l=a(5043),t=a(3003),o=a(3216),i=a(8958),n=a(4564);const r="LogoutForm_logout_title__0nRIl",c="LogoutForm_logout_text__3fohi",d="LogoutForm_logout_btn__UixqU",_="LogoutForm_logout_buttons__Miq70",u="LogoutForm_loader_overlay__kbs84";var m=a(579);const h=s=>{let{closeModal:e}=s;const a=(0,t.wA)(),h=(0,o.Zp)(),{loading:x}=(0,t.d4)((s=>s.auth)),[,f]=(0,l.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h2",{className:r,children:"LOG OUT"}),(0,m.jsx)("p",{className:c,children:"You can always log back in at my time."}),(0,m.jsxs)("div",{className:_,children:[(0,m.jsx)("button",{onClick:()=>{a((0,n.ri)()),f(!1),e(),h("/")},className:d,type:"button",children:"LOGOUT"}),(0,m.jsx)("button",{onClick:e,className:d,type:"button",children:"CANCEL"})]}),x&&(0,m.jsx)("div",{className:u,children:(0,m.jsx)(i.default,{})})]})}},9594:(s,e,a)=>{a.r(e),a.d(e,{default:()=>r});var l=a(5043);const t="Modal_modal_overlay__0uG9G",o="Modal_modal_content__8KQIg",i="Modal_modal_close__qzRzF";var n=a(579);const r=s=>{let{isOpen:e,onClose:a,children:r}=s;return(0,l.useEffect)((()=>{const s=s=>{"Escape"===s.key&&a()};return e&&window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}}),[e,a]),e?(0,n.jsx)("div",{className:t,onClick:a,children:(0,n.jsxs)("div",{className:o,onClick:s=>s.stopPropagation(),children:[(0,n.jsx)("button",{className:i,onClick:a,children:(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M18 6L6 18",stroke:"#050505",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M6 6L18 18",stroke:"#050505",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),r]})}):null}},6438:(s,e,a)=>{a.r(e),a.d(e,{default:()=>W});var l=a(3216),t=a(5043),o=a(3003);const i="ProfilePage_main_container__xY-uC",n="ProfilePage_main_content__z1SzY";var r=a(2242),c=a(7653),d=a(5823),_=a(80);const u="ProfileInfo_profile_info__dfh8J",m="ProfileInfo_profile_info_card__DRxYg",h="ProfileInfo_user_name__TWPCD",x="ProfileInfo_btn_logout__npySN";var f=a(9594),j=a(9781),p=a(8958),w=a(4564),g=a(8179),v=a(3719);const N="DetailsList_details_list__sI4go",k="DetailsList_details_list_item__T34GD",y="DetailsList_item_key__kriq9",b="DetailsList_item_value__Wlpxh";var L=a(579);const C=s=>{let{userDetails:e,isLoading:a,isOwnProfile:l}=s;return(0,L.jsxs)("ul",{className:N,children:[(0,L.jsxs)("li",{className:k,children:[(0,L.jsx)("p",{className:y,children:"Email: "}),(0,L.jsx)("span",{className:b,children:a||!e.email?"No email":e.email})]}),(0,L.jsxs)("li",{className:k,children:[(0,L.jsx)("p",{className:y,children:"Added recipes: "}),(0,L.jsx)("span",{className:b,children:a||!e.recipesCount?0:e.recipesCount})]}),l&&e.hasOwnProperty("favorites")&&(0,L.jsxs)("li",{className:k,children:[(0,L.jsx)("p",{className:y,children:"Favorites: "}),(0,L.jsx)("span",{className:b,children:a||!e.favorites?0:e.favorites})]}),(0,L.jsxs)("li",{className:k,children:[(0,L.jsx)("p",{className:y,children:"Followers: "}),(0,L.jsx)("span",{className:b,children:a||!e.followersCount?0:e.followersCount})]}),l&&e.hasOwnProperty("followingCount")&&(0,L.jsxs)("li",{className:k,children:[(0,L.jsx)("p",{className:y,children:"Following: "}),(0,L.jsx)("span",{className:b,children:a||!e.followingCount?0:e.followingCount})]})]})};var P=a(5656);const F="Avatar_profile_avatar_block__P1gv7",O="Avatar_profile_avatar__LgrlV",I="Avatar_btn_add_avatar__yC+27",A="Avatar_plus__ZhTjb";var T=a(4506);const D=s=>{let{avatar:e,isOwnProfile:a}=s;const[l,o]=(0,t.useState)(e);(0,t.useEffect)((()=>{o(e)}),[e]);return(0,L.jsxs)("div",{className:F,children:[(0,L.jsx)("img",{alt:"User avatar",src:(0,P.U9)(l),className:O,onError:()=>o(null)}),a&&(0,L.jsxs)("label",{htmlFor:"avatar",className:I,children:[(0,L.jsx)(T.A,{name:"icon-plus",className:A}),(0,L.jsx)("input",{style:{display:"none"},type:"file",id:"avatar",name:"avatar",accept:".jpg, .jpeg, .png",onChange:async s=>{const e=s.target.files[0];if(!e)return;const a=new FormData;a.append("avatar",e);try{const s=await(0,g.xG)(a),e="updated=".concat((new Date).getTime());o("".concat(s.avatarURL,"?").concat(e))}catch(l){console.log(l)}}})]})]})},U=s=>{let{userId:e,isOwnProfile:a}=s;const i=(0,o.wA)(),n=(0,l.Zp)(),[r,c]=(0,t.useState)(!0),[d,_]=(0,t.useState)({}),[N,k]=(0,t.useState)(!1),y=()=>{k(!1)};return(0,t.useEffect)((()=>{(async()=>{try{if(!e)return;const s=await(0,g.ON)({id:e});_(s),i((0,v.CI)(s.favorites))}catch(s){console.log(s)}finally{c(!1)}})()}),[i,e]),(0,L.jsxs)(t.Suspense,{fallback:(0,L.jsx)(p.default,{}),children:[(0,L.jsxs)("div",{className:u,children:[(0,L.jsxs)("div",{className:m,children:[(0,L.jsx)(D,{avatar:d.avatarURL,isOwnProfile:a}),(0,L.jsx)("p",{className:h,children:r||!d.name?"User name":d.name}),(0,L.jsx)(C,{userDetails:d,isLoading:r,isOwnProfile:a})]}),a?(0,L.jsx)("button",{type:"submit",className:x,onClick:()=>{k(!0)},children:"Log Out"}):d.isFollowing?(0,L.jsx)("button",{className:x,onClick:()=>{(async()=>{try{if(!e)return;await(0,g.Qt)(d.id),_((s=>({...s,isFollowing:!1})));const s=await(0,g.ri)({id:e,page:1,limit:9});i((0,v.dT)(s.followers))}catch(s){console.log(s)}})()},children:"Following"}):(0,L.jsx)("button",{className:x,onClick:()=>{(async()=>{try{if(!e)return;await(0,g.pV)(d.id),_((s=>({...s,isFollowing:!0})));const s=await(0,g.ri)({id:e,page:1,limit:9});i((0,v.dT)(s.followers))}catch(s){console.log(s)}})()},children:"Follow"})]}),N&&(0,L.jsx)(f.default,{isOpen:N,onClose:y,children:(0,L.jsx)(j.default,{handleLogOut:()=>{i((0,w.ri)()),y(),n("/")},closeModal:y})})]})};var E=a(5475);const M="ProfileTabs_tabs_container__REqVB",R="ProfileTabs_tabs_list__jkHOB",S="ProfileTabs_tab_item__RX8Us",G="ProfileTabs_active__xNjl6",z=s=>{let{userId:e,isOwnProfile:a}=s;const t=(0,l.zy)(),o=s=>{let{isActive:e}=s;return e?G:""};return(0,L.jsxs)("div",{className:M,children:[(0,L.jsxs)("ul",{className:R,children:[(0,L.jsx)("li",{className:S,children:(0,L.jsx)(E.k2,{to:"/user/".concat(e,"/recipies"),state:{from:t},className:o,children:a?"My recipes":"Recipes"})}),a&&(0,L.jsx)("li",{className:S,children:(0,L.jsx)(E.k2,{to:"/user/".concat(e,"/favorites"),state:{from:t},className:o,children:"My favorites"})}),(0,L.jsx)("li",{className:S,children:(0,L.jsx)(E.k2,{to:"/user/".concat(e,"/followers"),state:{from:t},className:o,children:"Followers"})}),a&&(0,L.jsx)("li",{className:S,children:(0,L.jsx)(E.k2,{to:"/user/".concat(e,"/following"),state:{from:t},className:o,children:"Following"})})]}),(0,L.jsx)(l.sv,{})]})};var q=a(8312);const W=()=>{const{id:s}=(0,l.g)(),{user:e}=(0,o.d4)((s=>s.auth)),[a,u]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{e&&e.id&&s&&u(e.id===s)}),[e,s]),(0,L.jsxs)(r.default,{className:i,children:[(0,L.jsx)(_.M,{currentPageName:"profile"}),(0,L.jsx)(c.A,{children:"Profile"}),(0,L.jsx)(d.A,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."}),(0,L.jsxs)("div",{className:n,children:[(0,L.jsx)(U,{userId:s,isOwnProfile:a}),(0,L.jsx)(z,{userId:s,isOwnProfile:a})]}),(0,L.jsx)(q.A,{})]})}}}]);
//# sourceMappingURL=438.008260f1.chunk.js.map