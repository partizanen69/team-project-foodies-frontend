/*! For license information please see 789.726ac81c.chunk.js.LICENSE.txt */
(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[789],{7182:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});a(5043);const i=a.p+"static/media/icons.b4b53982bb58f70738e39b174fd2a800.svg"},7160:(e,t,a)=>{"use strict";a.d(t,{HK:()=>p,Kk:()=>u,OV:()=>n,PS:()=>d,c1:()=>l,cX:()=>m,dU:()=>c,gv:()=>o,qt:()=>s});var i=a(6213),r=a(5656);const s=async function(){let{page:e,limit:t,category:a,area:r,ingredients:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await i.A.get("recipes",{params:{...e?{page:e}:null,...t?{limit:t}:null,...a?{category:a}:null,...r?{area:r}:null,...s?{ingredients:s}:null}})).data},c=async e=>{let{id:t}=e;try{return(await i.A.get("/recipes/".concat(t))).data}catch(a){(0,r.r4)(a)}},n=async e=>{let{page:t=1,limit:a=10,recipeIds:s}=e;try{return(await i.A.get("/recipes/favorites",{params:{page:t,limit:a,...s&&s.length?{recipeIds:JSON.stringify(s)}:null}})).data}catch(c){(0,r.r4)(c)}},o=async e=>{let{recipeId:t}=e;try{return(await i.A.post("/recipes/".concat(t,"/favorites"))).data}catch(a){(0,r.r4)(a)}},l=async e=>{let{recipeId:t}=e;try{return(await i.A.delete("/recipes/".concat(t,"/favorites"))).data}catch(a){(0,r.r4)(a)}},d=async()=>{try{return(await i.A.get("/recipes/popular")).data}catch(e){(0,r.r4)(e)}},p=async e=>{let{owner:t,page:a=1,limit:s=10}=e;try{return(await i.A.get("/recipes/user-recipes",{params:{owner:t,page:a,limit:s}})).data}catch(c){(0,r.r4)(c)}},u=async e=>{try{return(await i.A.post("/recipes",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){(0,r.r4)(t)}},m=async e=>{try{return(await i.A.delete("/recipes/".concat(e))).data}catch(t){(0,r.r4)(t)}}},4506:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});a(5043);var i=a(7182),r=a(579);const s=e=>{let{name:t,className:a=""}=e;return(0,r.jsx)("svg",{className:a,children:(0,r.jsx)("use",{xlinkHref:"".concat(i.A,"#").concat(t)})})}},4475:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});a(5043);const i={button:"RoundButton_button__gOFkP",icon:"RoundButton_icon__5EP-B",favorite:"RoundButton_favorite__WiVpE",arrowLight:"RoundButton_arrowLight__Rf8xn",buttonLightStroke:"RoundButton_buttonLightStroke__6kp+e"};var r=a(4506),s=a(8139),c=a.n(s),n=a(579);const o=e=>{let{iconName:t="icon-arrow-up-right",className:a="",iconClassName:s="",onClick:o}=e;return(0,n.jsx)("button",{className:c()(i.button,i[a]),onClick:o,children:(0,n.jsx)(r.A,{name:t,className:c()(i.icon,i[s])})})}},7963:(e,t,a)=>{"use strict";a.d(t,{A:()=>U});const i="UserCard_user_card__e2azl",r="UserCard_wrapper__SWV5A",s="UserCard_avatar__2m0Mf",c="UserCard_name__Rxd2K",n="UserCard_text__lYmlO",o="UserCard_follow_button__N4DIz",l="UserCard_recipe_list__gp986",d="UserCard_recipe_image__v-BMi";var p=a(4475),u=a(8179),m=a(3216),_=a(3003),g=a(3719),h=a(5043),f=a(3775),w=a(5656),v=a(579);const x=e=>e?e.startsWith("https://")?e:"".concat("https://team-project-foodies-backend.onrender.com/").concat(e):"".concat("/team-project-foodies-frontend","/avatar-placeholder.svg"),j=e=>{const[t,a]=(0,h.useState)(window.innerWidth),j=(0,_.d4)(f.s0),y=(0,_.d4)(f.SS),N=(0,m.zy)().pathname.split("/"),b=N[N.length-1];(0,h.useEffect)((()=>{function e(){a(window.innerWidth)}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[t]);const A=(0,_.wA)(),{id:C}=(0,m.g)(),{_id:k,name:S,avatarURL:I,recipesCount:R,isFollowing:L=!0,recipes:F}=e.user;return(0,v.jsx)(v.Fragment,{children:void 0!==S&&(0,v.jsxs)("li",{className:i,children:[(0,v.jsxs)("div",{className:r,children:[(0,v.jsx)("img",{className:s,src:x(I),alt:"user avatar"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:c,children:S}),(0,v.jsxs)("p",{className:n,children:["Own recipes: ",R]}),L?(0,v.jsx)("button",{className:o,onClick:()=>{(async()=>{try{if(!C||!k)return;if(await(0,u.Qt)(k),"followers"===b){const e=await(0,u.ri)({id:C,page:j,limit:y});A((0,g.dT)(e.followers))}else if("following"===b){const e=await(0,u.Vf)({id:C,page:j,limit:y});A((0,g.dT)(e.following))}}catch(e){(0,w.Qg)(e.message)}})()},children:"Following"}):(0,v.jsx)("button",{className:o,onClick:()=>{(async()=>{try{if(!C||!k)return;await(0,u.pV)(k);const e=await(0,u.ri)({id:C,page:j,limit:y});A((0,g.dT)(e.followers))}catch(e){(0,w.Qg)(e.message)}})()},children:"Follow"})]})]}),t>=768&&t<1440&&(0,v.jsx)("ul",{className:l,children:F.slice(0,3).map((e=>(0,v.jsx)("li",{children:(0,v.jsx)("img",{className:d,src:x(I),alt:""})},e._id)))}),t>=1440&&(0,v.jsx)("ul",{className:l,children:F.map((e=>(0,v.jsx)("li",{children:(0,v.jsx)("img",{className:d,src:x(I),alt:""})},e._id)))}),(0,v.jsx)(p.A,{onClick:()=>{window.location.href="/team-project-foodies-frontend/user/".concat(k,"/recipies")}})]})})};var y=a(7160);const N=e=>{let{recipeId:t,isFavorite:a=!1}=e;const i=(0,_.wA)(),r=(0,_.d4)(f.Cp),s=(0,_.d4)(f.s0),c=(0,_.d4)(f.ft);return(0,v.jsx)(p.A,{iconName:"icon-trash",className:"",onClick:a?async()=>{try{await(0,y.c1)({recipeId:t}),i((0,g.$z)(t));const e=r-1;i((0,g.CI)(e)),e%c===0&&e/c<r/c&&i((0,g.Ir)(s-1))}catch(e){(0,w.Qg)(e.message)}}:async()=>{try{if(!t)return;await(0,y.cX)(t),i((0,g.$z)(t))}catch(e){(0,w.Qg)(e.message)}}})},b="RecipeItem_recipe_card__iKs9j",A="RecipeItem_thumb_wrapper__xNhKD",C="RecipeItem_recipe_thumb__j5xwn",k="RecipeItem_recipe_info__H9cpu",S="RecipeItem_recipe_title__aqPJ6",I="RecipeItem_recipe_description__CixJW",R="RecipeItem_button_group__eFq1Y",L=e=>{let{recipe:t,isFavorite:a}=e;const i=(0,m.Zp)(),{id:r}=(0,m.g)(),{user:s}=(0,_.d4)((e=>e.auth)),[c,n]=(0,h.useState)(!1),[o,l]=(0,h.useState)(t.thumb);return(0,h.useEffect)((()=>{s&&s.id&&r&&n(s.id===r)}),[s,r]),(0,h.useEffect)((()=>{l((0,w.AE)(null===t||void 0===t?void 0:t.thumb))}),[t.thumb]),(0,v.jsxs)("li",{className:b,children:[(0,v.jsx)("div",{className:A,children:(0,v.jsx)("img",{src:o,alt:t.title,className:C,onError:()=>l("".concat("/team-project-foodies-frontend","/image-placeholder.svg"))})}),(0,v.jsxs)("div",{className:k,children:[(0,v.jsx)("p",{className:S,children:t.title}),(0,v.jsx)("p",{className:I,children:t.description})]}),(0,v.jsxs)("div",{className:R,children:[(0,v.jsx)(p.A,{onClick:()=>i("/recipe/".concat(t._id))}),c&&(0,v.jsx)(N,{recipeId:t._id,isFavorite:a})]})]})},F="ListItems_list_items__S0u1Q",U=e=>{let{isRecipeCard:t,list:a,isFavorite:i}=e;return(0,v.jsx)("ul",{className:F,children:t?a.map((e=>(0,v.jsx)(L,{recipe:e,isFavorite:i},e._id))):a.map((e=>(0,v.jsx)(j,{user:e},e._id)))})}},691:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var i=a(3003);const r="ListPagination_pagination_elements__8n2b3",s="ListPagination_pagination_element__gehMs",c="ListPagination_pagination_element_active__00LNg";var n=a(3775),o=a(3719),l=a(579);const d=e=>{let{total:t}=e;const a=(0,i.wA)(),d=(0,i.d4)(n.s0),p=(0,i.d4)(n.SS),u=Math.ceil(t/p),m=Array.from({length:u},((e,t)=>t+1)),_=e=>{a((0,o.Ir)(e))};return u>1&&(0,l.jsx)("ul",{className:r,children:m.map(((e,t)=>1===e||e===u||e>=d-1&&e<=d+1?(0,l.jsx)("li",{className:"".concat(s," ").concat(d===e?c:""),onClick:()=>_(e),children:e},e):2===e&&d>3||e===u-1&&d<u-2?2===e&&4===d||e===u-1&&d===u-3?null:(0,l.jsx)("li",{className:s,children:"..."},e):null))})}},3775:(e,t,a)=>{"use strict";a.d(t,{Cp:()=>c,SS:()=>o,TM:()=>l,fr:()=>r,ft:()=>d,s0:()=>n,tH:()=>s,xu:()=>i});const i=e=>e.auth.user,r=e=>e.list.list,s=e=>e.list.totalUsers,c=e=>e.list.favorites,n=e=>e.list.page,o=e=>e.list.limit,l=e=>e.list.isLoading,d=e=>e.list.limit},8139:(e,t)=>{var a;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=c(e,s(a)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)i.call(e,a)&&e[a]&&(t=c(t,a));return t}function c(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()}}]);
//# sourceMappingURL=789.726ac81c.chunk.js.map