{"version":3,"file":"static/js/403.43e22aba.chunk.js","mappings":"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","sources":["assets/icons/burger-bar.svg","webpack://react-homework-template/./src/components/Header/Header.module.scss?6eb7","components/Header/Header.jsx"],"sourcesContent":["var _path, _path2, _path3, _path4;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgBurgerBar(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 28,\n    viewBox: \"0 0 28 28\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.5 11.6665H3.5\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.5 7H3.5\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.5 16.3335H3.5\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.5 21H3.5\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgBurgerBar);\nexport default __webpack_public_path__ + \"static/media/burger-bar.3d71d679ba10f3983585537b227ee306.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"header_container\":\"Header_header_container__cW9hf\",\"header_container__light\":\"Header_header_container__light__Iexym\",\"burger_btn\":\"Header_burger_btn__xbl5n\",\"burger_icon\":\"Header_burger_icon__g1l7q\",\"burger_icon__dark\":\"Header_burger_icon__dark__8WQyn\",\"logo\":\"Header_logo__shVBB\",\"logo__dark\":\"Header_logo__dark__-4X0S\",\"profile_bar_wrapper\":\"Header_profile_bar_wrapper__9X9R4\",\"dropdown_menu\":\"Header_dropdown_menu__uqKFz\",\"dropdown_menu_link_img\":\"Header_dropdown_menu_link_img__Kyty0\",\"dropdown_menu_link\":\"Header_dropdown_menu_link__5+Yno\",\"profile_bar\":\"Header_profile_bar__Do-I8\",\"profile_bar__light\":\"Header_profile_bar__light__FXV+P\",\"profile_bar_unauthenticated\":\"Header_profile_bar_unauthenticated__asTjS\",\"avatar_wrapper\":\"Header_avatar_wrapper__I1jIz\",\"avatar\":\"Header_avatar__H1JXw\",\"name_wrapper\":\"Header_name_wrapper__p3Vsr\",\"profile_bar_name\":\"Header_profile_bar_name__6W0xL\",\"profile_bar_name__dark\":\"Header_profile_bar_name__dark__Amqhy\",\"burger\":\"Header_burger__k5ipm\",\"sign_in_block\":\"Header_sign_in_block__s0Psa\",\"sign_up_block\":\"Header_sign_up_block__B6tRq\"};","import React, { useEffect, useState, lazy } from 'react';\nimport { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ReactComponent as BurgerBar } from '../../assets/icons/burger-bar.svg';\nimport {getAvatarSrc} from '../../api/api.utils'\n\nimport s from './Header.module.scss';\n\nconst Navigation = lazy(() => import('../Navigation/Navigation'));\n\nconst Header = ({ openModal }) => {\n  const { user } = useSelector(state => state.auth);\n  const isMainPage = useSelector(state => state.ui.isMainPage);\n\n  const [isLoggedIn, setIsLoggedIn] = useState(!!user);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\n  const [isDropDownShown, setIsDropDownShown] = useState(false);\n  const [avatar, setAvatar] = useState(user?.avatarURL ?? '')\n  const handleResize = () => {\n    setIsMobile(window.innerWidth < 768);\n  };\n\n  useEffect(() => {\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  const closeSidebar = () => {\n    setIsSidebarOpen(false);\n  };\n\n  const openSidebar = () => {\n    setIsSidebarOpen(true);\n  };\n\n  const toggleDropDown = () => {\n    setIsDropDownShown(!isDropDownShown);\n  };\n\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (!event.target.closest(`.${s.profile_bar}`)) {\n        setIsDropDownShown(false);\n      }\n    };\n\n    if (isDropDownShown) {\n      window.addEventListener('click', handleClickOutside);\n    }\n\n    return () => {\n      window.removeEventListener('click', handleClickOutside);\n    };\n  }, [isDropDownShown]);\n\n  useEffect(() => {\n    setIsLoggedIn(!!user);\n  }, [user]);\n\n  useEffect(() => {\n    setAvatar(getAvatarSrc(user?.avatarURL))\n  }, [user?.avatarURL]);\n  \n  return (\n    <>\n      <div\n        className={isMainPage ? s.header_container : s.header_container__light}\n      >\n        <NavLink to=\"/\" className={isMainPage ? s.logo : s.logo__dark}>\n          foodies\n        </NavLink>\n        {(isSidebarOpen || (!isMobile && isLoggedIn)) && (\n          <Navigation\n            isSidebarOpen={isSidebarOpen}\n            closeSidebar={closeSidebar}\n          />\n        )}\n        {isLoggedIn ? (\n          <div className={s.profile_bar_wrapper}>\n            <div onClick={toggleDropDown} className={s.profile_bar}>\n              <span className={s.avatar_wrapper}>\n                <img\n                  src={avatar}\n                  alt=\"avatar\"\n                  className={s.avatar}\n                />\n              </span>\n              <div className={s.name_wrapper}>\n                {user && <p className={s.profile_bar_name}>{user.name}</p>}\n                <svg\n                  width=\"18\"\n                  height=\"18\"\n                  viewBox=\"0 0 18 18\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M4.5 6.75L9 11.25L13.5 6.75\"\n                    stroke=\"white\"\n                    strokeWidth=\"1.5\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                </svg>\n              </div>\n            </div>\n            <button\n              type=\"button\"\n              onClick={openSidebar}\n              className={s.burger_btn}\n            >\n              <BurgerBar\n                className={isMainPage ? s.burger_icon : s.burger_icon__dark}\n              />\n            </button>\n\n            {isDropDownShown && (\n              <div\n                className={s.dropdown_menu}\n              >\n\n                <NavLink\n                  className={s.dropdown_menu_link}\n                  to={`user/${user.id}/recipies`}\n                >\n\n                  PROFILE\n                </NavLink>\n                <div className={s.dropdown_menu_link_img}>\n                  <button\n                    className={s.dropdown_menu_link}\n                    onClick={() => openModal('log out')}\n                  >\n                    LOG OUT\n                    <svg\n                      width=\"18\"\n                      height=\"18\"\n                      viewBox=\"0 0 18 18\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <path\n                        d=\"M5.25 12.75L12.75 5.25\"\n                        stroke=\"white\"\n                        strokeWidth=\"1.3\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                      />\n                      <path\n                        d=\"M5.25 5.25H12.75V12.75\"\n                        stroke=\"white\"\n                        strokeWidth=\"1.3\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                      />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className={s.profile_bar_wrapper}>\n            <div className={s.profile_bar_unauthenticated}>\n              <button\n                type=\"button\"\n                onClick={() => openModal('sign in')}\n                className={s.sign_in_block}\n              >\n                SIGN IN\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => openModal('sign up')}\n                className={s.sign_up_block}\n              >\n                SIGN UP\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={2000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n        theme=\"light\"\n      />\n    </>\n  );\n};\n\nHeader.propTypes = {\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default Header;\n"],"names":["_path","_path2","_path3","_path4","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","SvgBurgerBar","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","strokeWidth","strokeLinecap","strokeLinejoin","ForwardRef","Navigation","lazy","_user$avatarURL","openModal","user","useSelector","state","auth","isMainPage","ui","isLoggedIn","setIsLoggedIn","useState","isSidebarOpen","setIsSidebarOpen","isMobile","setIsMobile","window","innerWidth","isDropDownShown","setIsDropDownShown","avatar","setAvatar","avatarURL","handleResize","useEffect","addEventListener","removeEventListener","handleClickOutside","event","target","closest","concat","s","getAvatarSrc","_jsxs","_Fragment","children","className","_jsx","NavLink","to","closeSidebar","onClick","toggleDropDown","src","alt","name","stroke","type","openSidebar","BurgerBar","ToastContainer","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","theme"],"sourceRoot":""}