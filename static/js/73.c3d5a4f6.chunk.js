/*! For license information please see 73.c3d5a4f6.chunk.js.LICENSE.txt */
(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[73,242],{7182:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});t(5043);const i=t.p+"static/media/icons.b4b53982bb58f70738e39b174fd2a800.svg"},1133:(e,r,t)=>{"use strict";t.d(r,{P:()=>a});var i=t(6213),n=t(5656);const a=async()=>{try{return(await i.A.get("/areas")).data}catch(e){(0,n.r4)(e)}}},2279:(e,r,t)=>{"use strict";t.d(r,{b:()=>n});var i=t(6213);const n=async function(){let{page:e=1,limit:r=11,all:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t?{}:{page:e,limit:r};return(await i.A.get("/categories",{params:n})).data}},7160:(e,r,t)=>{"use strict";t.d(r,{HK:()=>l,Kk:()=>p,OV:()=>c,PS:()=>_,c1:()=>o,cX:()=>u,dU:()=>s,gv:()=>d,qt:()=>a});var i=t(6213),n=t(5656);const a=async function(){let{page:e,limit:r,category:t,area:n,ingredients:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await i.A.get("recipes",{params:{...e?{page:e}:null,...r?{limit:r}:null,...t?{category:t}:null,...n?{area:n}:null,...a?{ingredients:a}:null}})).data},s=async e=>{let{id:r}=e;try{return(await i.A.get("/recipes/".concat(r))).data}catch(t){(0,n.r4)(t)}},c=async e=>{let{page:r=1,limit:t=10,recipeIds:a}=e;try{return(await i.A.get("/recipes/favorites",{params:{page:r,limit:t,...a&&a.length?{recipeIds:JSON.stringify(a)}:null}})).data}catch(s){(0,n.r4)(s)}},d=async e=>{let{recipeId:r}=e;try{return(await i.A.post("/recipes/".concat(r,"/favorites"))).data}catch(t){(0,n.r4)(t)}},o=async e=>{let{recipeId:r}=e;try{return(await i.A.delete("/recipes/".concat(r,"/favorites"))).data}catch(t){(0,n.r4)(t)}},_=async()=>{try{return(await i.A.get("/recipes/popular")).data}catch(e){(0,n.r4)(e)}},l=async e=>{let{owner:r,page:t=1,limit:a=10}=e;try{return(await i.A.get("/recipes/user-recipes",{params:{owner:r,page:t,limit:a}})).data}catch(s){(0,n.r4)(s)}},p=async e=>{try{return(await i.A.post("/recipes",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){(0,n.r4)(r)}},u=async e=>{try{return(await i.A.delete("/recipes/".concat(e))).data}catch(r){(0,n.r4)(r)}}},2242:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});t(5043);var i=t(8139),n=t.n(i),a=t(579);function s(e){let{children:r,className:t}=e;const i=n()(t);return(0,a.jsx)("div",{className:i,children:r})}},8654:(e,r,t)=>{"use strict";t.d(r,{A:()=>x});var i=t(2242),n=t(2896);const a=[{id:"facebook",link:"https://www.facebook.com/goITclub/"},{id:"instagram",link:"https://www.instagram.com/goitclub/"},{id:"youtube",link:"https://www.youtube.com/c/GoIT"}],s="NetworkLinks_networkLinks__BfmH8",c="NetworkLinks_networkLink__TnYOO";var d=t(579);const o=()=>(0,d.jsx)("ul",{className:s,children:a.map((e=>{let{id:r,link:t}=e;return(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:t,className:c,target:"_blank",rel:"nofollow noopener noreferrer",children:(0,d.jsx)(n.I,{id:r,width:20,height:20})})},r)}))}),_="CopyRight_copyright__rdjXI",l=()=>(0,d.jsx)("span",{className:_,children:"@2024, Foodies. All rights reserved"});var p=t(5475);const u="Logo_logo__n9+zU",m=()=>(0,d.jsx)(p.k2,{to:"/",className:u,children:"foodies"}),g="Footer_top__XfDGF",h="Footer_bottom__J7kjW",x=()=>(0,d.jsxs)("footer",{children:[(0,d.jsx)(i.default,{children:(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)(m,{}),(0,d.jsx)(o,{})]})}),(0,d.jsx)("div",{className:h,children:(0,d.jsx)(l,{})})]})},4506:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});t(5043);var i=t(7182),n=t(579);const a=e=>{let{name:r,className:t=""}=e;return(0,n.jsx)("svg",{className:t,children:(0,n.jsx)("use",{xlinkHref:"".concat(i.A,"#").concat(r)})})}},2896:(e,r,t)=>{"use strict";t.d(r,{I:()=>d});var i=t(8139),n=t.n(i);const a={icon:"Icons_icon__7UlIp"};var s=t(7182),c=t(579);const d=e=>{let{id:r,className:t,width:i,height:d}=e;return(0,c.jsx)("svg",{width:i,height:d,id:r,className:n()(a.icons,t),children:(0,c.jsx)("use",{xlinkHref:"".concat(s.A,"#").concat(r)})})}},7653:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});t(5043);const i="MainTitle_title__k2iVV";var n=t(579);const a=e=>{let{children:r}=e;return(0,n.jsx)("h2",{className:i,children:r})}},80:(e,r,t)=>{"use strict";t.d(r,{M:()=>p});var i=t(5475),n=t(2242);const a="PathInfo_path_info_container__lKMh4",s="PathInfo_page_name__CWurv",c="PathInfo_home_name__qgTQS",d="PathInfo_current_page_name__Vlki3";var o=t(8139),_=t.n(o),l=t(579);const p=e=>{let{currentPageName:r}=e;return(0,l.jsxs)(n.default,{className:a,children:[(0,l.jsx)(i.k2,{className:_()(s,c),to:"/",children:"HOME"}),(0,l.jsx)("span",{className:_()(s,c),children:"/"}),(0,l.jsx)("span",{className:_()(s,d),children:r})]})}},5823:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});t(5043);const i="Subtitle_subtitle__Y5mSh";var n=t(579);const a=e=>{let{children:r}=e;return(0,n.jsx)("p",{className:i,children:r})}},2073:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>De});var i=t(5043),n=t(80),a=t(2242),s=t(8958),c=t(7653),d=t(5823),o=t(4858),_=t(8403),l=t(3216),p=t(3401),u=t(3003),m=(t(2342),t(899));const g=m.Ik().shape({image:m.gl().required("Please upload an image for the recipe"),title:m.Yj().required("Title is required"),description:m.Yj().max(200,"Description must be at most 200 characters").required("Description is required"),category:m.Yj().required("Category is required"),area:m.Yj().required("Area is required"),time:m.Yj().min(1,"Time must be at least 1 minute").required("Time is required"),ingredients:m.YO().of(m.Ik().shape({_id:m.Yj().required("Ingredient id is required"),measure:m.Yj().required("Measure is required")})).min(1,"At least one ingredient is required"),instructions:m.Yj().max(200,"Instructions must be at most 200 characters").required("Instructions are required")});var h=t(2279),x=t(1133),j=t(6213),f=t(5656);const v=async()=>{try{return(await j.A.get("/ingredients")).data}catch(e){(0,f.r4)(e)}};var y,w,N=t(7160);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},I.apply(null,arguments)}function b(e,r){let{title:t,titleId:n,...a}=e;return i.createElement("svg",I({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":n},a),t?i.createElement("title",{id:n},t):null,y||(y=i.createElement("path",{d:"M6 2H10",stroke:"#050505",strokeOpacity:.9,strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})),w||(w=i.createElement("path",{d:"M2 4H14M12.6667 4L12.1991 11.0129C12.129 12.065 12.0939 12.5911 11.8667 12.99C11.6666 13.3412 11.3648 13.6235 11.0011 13.7998C10.588 14 10.0607 14 9.00623 14H6.99377C5.93927 14 5.41202 14 4.99889 13.7998C4.63517 13.6235 4.33339 13.3412 4.13332 12.99C3.90607 12.5911 3.871 12.065 3.80086 11.0129L3.33333 4",stroke:"#050505",strokeOpacity:.9,strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})))}const k=i.forwardRef(b),C=(t.p,"ErrorMessage_error_message__CSeiA");var A=t(579);const L=e=>{let{error:r}=e;return r?(0,A.jsx)("p",{className:C,children:r.message}):null},S="ImageUpload_upload_container__1Fu+D",M="ImageUpload_recipe_image_container__8Mcqf",O="ImageUpload_recipe_image_input__1IViX",P="ImageUpload_recipe_image_preview_container__w0nL7",R="ImageUpload_recipe_image_preview__RLzmv",V="ImageUpload_recipe_image_text__-UwoW",q="ImageUpload_upload_again__bor-W",E="ImageUpload_upload_again_container__u0vTe",H=e=>{let{handleImageChange:r,imagePreview:t,errors:i}=e;return(0,A.jsxs)("div",{className:S,children:[(0,A.jsxs)("label",{htmlFor:"image-upload",className:M,children:[(0,A.jsx)("input",{type:"file",id:"image-upload",accept:"image/*",onChange:r,className:O}),t?(0,A.jsx)("div",{className:P,children:(0,A.jsx)("img",{src:t,alt:"Recipe",className:R})}):(0,A.jsxs)("div",{className:V,children:[(0,A.jsxs)("svg",{className:"recipe_upload_icon",viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,A.jsx)("path",{d:"M56.881 22.8571V13.6959C56.8811 12.0825 56.2414 10.5349 55.1023 9.39238C53.9631 8.24982 52.4175 7.60551 50.8041 7.60067L41.643 7.57324M56.881 41.1428V50.2856C56.881 51.9022 56.2389 53.4525 55.0958 54.5956C53.9527 55.7387 52.4024 56.3809 50.7858 56.3809H41.643M23.3572 7.57324L14.1961 7.60372C12.5827 7.60856 11.0371 8.25287 9.89792 9.39543C8.7588 10.538 8.11913 12.0856 8.11914 13.699V22.8571M23.3572 56.3809H14.2144C12.5978 56.3809 11.0475 55.7387 9.90439 54.5956C8.76132 53.4525 8.11914 51.9022 8.11914 50.2856V41.1428",stroke:"#050505",strokeOpacity:"0.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,A.jsx)("path",{d:"M32.5 37.5C33.75 37.5 34.8127 37.0627 35.688 36.188C36.5627 35.3127 37 34.25 37 33C37 31.75 36.5627 30.6873 35.688 29.812C34.8127 28.9373 33.75 28.5 32.5 28.5C31.25 28.5 30.1873 28.9373 29.312 29.812C28.4373 30.6873 28 31.75 28 33C28 34.25 28.4373 35.3127 29.312 36.188C30.1873 37.0627 31.25 37.5 32.5 37.5ZM24.5 41C23.95 41 23.4793 40.8043 23.088 40.413C22.696 40.021 22.5 39.55 22.5 39V27C22.5 26.45 22.696 25.9793 23.088 25.588C23.4793 25.196 23.95 25 24.5 25H27.65L29.5 23H35.5L37.35 25H40.5C41.05 25 41.521 25.196 41.913 25.588C42.3043 25.9793 42.5 26.45 42.5 27V39C42.5 39.55 42.3043 40.021 41.913 40.413C41.521 40.8043 41.05 41 40.5 41H24.5Z",fill:"#050505",fillOpacity:"0.3"})]}),(0,A.jsx)("p",{children:"Upload a photo"})]})]}),t&&(0,A.jsx)("div",{className:E,children:(0,A.jsx)("label",{htmlFor:"image-upload",className:q,children:"Upload another photo"})}),(0,A.jsx)(L,{error:null===i||void 0===i?void 0:i.image})]})},T="TitleInput_input_container__mI1Ww",F="TitleInput_add_recipe_form_title__39o3u",U="TitleInput_typing_text__DdpQx",D=e=>{let{register:r,errors:t}=e;const[n,a]=(0,i.useState)(!1);return(0,A.jsxs)("div",{className:T,children:[(0,A.jsx)("input",{type:"text",...r("title",{onChange:()=>{a(!0)}}),placeholder:"The name of the recipe",className:"".concat(F," ").concat(n?U:"")}),(0,A.jsx)(L,{error:null===t||void 0===t?void 0:t.title})]})},Y="DescriptionInput_add_recipe_form_description_wrap__tLkos",W="DescriptionInput_add_recipe_form_description__NrBxQ",B="DescriptionInput_add_recipe_form_description_input__MVg6M",J="DescriptionInput_bottom_border__B9KyH",Z="DescriptionInput_character_count__KJ5k4",X=e=>{let{register:r,name:t,errors:n,maxLength:a}=e;const[s,c]=(0,i.useState)(""),[d,o]=(0,i.useState)(!1);return(0,A.jsxs)("div",{className:Y,children:[(0,A.jsxs)("div",{className:W,children:[(0,A.jsx)("input",{...r(t),type:"text",value:s,maxLength:a,onChange:e=>{const r=e.target.value;c(r.slice(0,a)),o(!0)},placeholder:"Enter a description of the dish",className:B}),(0,A.jsxs)("div",{className:Z,children:[(0,A.jsx)("span",{style:{color:s.length>0?"rgba(5, 5, 5, 1)":"rgba(5, 5, 5, 0.6)"},children:s.length}),(0,A.jsxs)("span",{children:["/",a]})]})]}),n[t]&&!d&&(0,A.jsx)(L,{error:n[t]}),(0,A.jsx)("div",{className:J})]})},z="AddRecipeFormLabel_add_recipe_form_label__YP-Ry",K=e=>{let{children:r}=e;return(0,A.jsx)("label",{className:z,children:r})},Q="AreaSelect_area_select_container__309tE",G="AreaSelect_area_select__+Xgg2",$="AreaSelect_area_select_option__nsWUK",ee="AreaSelect_area_placeholder__EX6D8",re="AreaSelect_area_selected__QZYot",te=e=>{let{control:r,areas:t,errors:i}=e;return(0,A.jsxs)("div",{className:Q,children:[(0,A.jsx)(K,{children:"Area"}),(0,A.jsx)(o.xI,{name:"area",control:r,render:e=>{let{field:r}=e;return(0,A.jsxs)("select",{...r,className:"".concat(G," ").concat(r.value?re:ee),children:[(0,A.jsx)("option",{value:"",className:$,children:"Select an area"},"default"),t.map((e=>(0,A.jsx)("option",{value:e.id,children:e.name},e.name)))]})}}),(0,A.jsx)(L,{error:null===i||void 0===i?void 0:i.area})]})},ie={category_select_container:"CategorySelect_category_select_container__dRYHd",category_select:"CategorySelect_category_select__p4ayL",category_select_option:"CategorySelect_category_select_option__w7ckg",category_placeholder:"CategorySelect_category_placeholder__liBMi",category_selected:"CategorySelect_category_selected__7Wglj"},ne=e=>{let{control:r,categories:t,errors:i}=e;return(0,A.jsxs)("div",{className:ie.category_select_container,children:[(0,A.jsx)(K,{children:"Category"}),(0,A.jsx)(o.xI,{name:"category",control:r,render:e=>{let{field:r}=e;return(0,A.jsx)("div",{className:ie.select_wrapper,children:(0,A.jsxs)("select",{...r,className:"".concat(ie.category_select," ").concat(r.value?ie.category_selected:ie.category_placeholder),children:[(0,A.jsx)("option",{value:"",className:ie.category_select_option,children:"Select a category"},"default"),t.map((e=>(0,A.jsx)("option",{value:e.id,children:e.name},e.name)))]})})}}),(0,A.jsx)(L,{error:null===i||void 0===i?void 0:i.category})]})},ae={add_recipe_form_time:"TimeInput_add_recipe_form_time__NyrDi",add_recipe_form_time_buttons:"TimeInput_add_recipe_form_time_buttons__S1vCH",add_recipe_form_time_button:"TimeInput_add_recipe_form_time_button__ZROqi",add_recipe_form_time_input:"TimeInput_add_recipe_form_time_input__Hdv93"},se=e=>{var r;let{register:t,getValues:n,setValue:a,errors:s}=e;const[c,d]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=n("time")||0;d("".concat(e," min"))}),[n]);return(0,A.jsxs)("div",{className:ae.add_recipe_form_time,children:[(0,A.jsx)(K,{children:"Cooking time"}),(0,A.jsxs)("div",{className:ae.add_recipe_form_time_buttons,children:[(0,A.jsx)("button",{type:"button",onClick:()=>{const e=n("time");if(!e)return;const r=e-1>=0?e-1:0;a("time",r),d("".concat(r," min"))},className:ae.add_recipe_form_time_button,children:(0,A.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,A.jsx)("path",{d:"M5 12H19",stroke:"#050505",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,A.jsx)("input",{type:"text",value:c,readOnly:!0,...t("time"),className:ae.add_recipe_form_time_input}),(0,A.jsx)("button",{type:"button",onClick:()=>{const e=(n("time")||0)+1;a("time",e),d("".concat(e," min"))},className:ae.add_recipe_form_time_button,children:(0,A.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,A.jsx)("path",{d:"M12 5V19",stroke:"#050505",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,A.jsx)("path",{d:"M5 12H19",stroke:"#050505",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),s&&(0,A.jsx)("p",{className:ae.add_recipe_form_error,children:null===(r=s.time)||void 0===r?void 0:r.message})]})},ce="InstructionsInput_add_recipe_form_instructions__MXYan",de="InstructionsInput_add_recipe_form_instructions_wrap__G+dYv",oe="InstructionsInput_add_recipe_form_instructions_input__TNVxq",_e="InstructionsInput_bottom_border__J+EOv",le="InstructionsInput_add_recipe_form_counter__WvPzE",pe="InstructionsInput_character_count__VFd1f",ue=e=>{let{register:r,name:t,errors:n,maxLength:a}=e;const[s,c]=(0,i.useState)(""),[d,o]=(0,i.useState)(!1);return(0,A.jsxs)("div",{className:ce,children:[(0,A.jsx)(K,{children:"Recipe Preparation"}),(0,A.jsxs)("div",{className:de,children:[(0,A.jsxs)("div",{className:le,children:[(0,A.jsx)("input",{...r(t),type:"text",value:s,maxLength:a,onChange:e=>{const r=e.target.value;c(r.slice(0,a)),o(!0)},placeholder:"Enter recipe",className:oe}),(0,A.jsxs)("div",{className:pe,children:[(0,A.jsx)("span",{style:{color:s.length>0?"rgba(5, 5, 5, 1)":"rgba(5, 5, 5, 0.6)"},children:s.length}),(0,A.jsxs)("span",{children:["/",a]})]})]}),n[t]&&!d&&(0,A.jsx)(L,{error:n[t]}),(0,A.jsx)("div",{className:_e})]})]})};var me=t(4506);const ge={add_recipe_form_ingredients:"AddIngredient_add_recipe_form_ingredients__Zyy6Y",add_recipe_form_ingredient_input:"AddIngredient_add_recipe_form_ingredient_input__xz-Qc",add_recipe_form_ingredient_select_wrap:"AddIngredient_add_recipe_form_ingredient_select_wrap__Hlf9u",add_recipe_form_ingredient_input_select:"AddIngredient_add_recipe_form_ingredient_input_select__J0Hk8",ingredient_placeholder:"AddIngredient_ingredient_placeholder__Eeq2c",ingredient_selected:"AddIngredient_ingredient_selected__PcsWj",add_recipe_form_ingredient_input_ingredient_option:"AddIngredient_add_recipe_form_ingredient_input_ingredient_option__4JbF3",add_recipe_form_ingredient_input_measure:"AddIngredient_add_recipe_form_ingredient_input_measure__JwHIJ",add_recipe_form_ingredient_input_button:"AddIngredient_add_recipe_form_ingredient_input_button__v6+bi",add_recipe_form_ingredient_input_button_icon:"AddIngredient_add_recipe_form_ingredient_input_button_icon__1dZu3"},he=e=>{let{control:r,ingredientsList:t,errors:i,isTyping:n,register:a,watch:s,addIngredient:c,handleMeasureChange:d}=e;return(0,A.jsx)("div",{className:ge.add_recipe_form_ingredients,children:(0,A.jsx)(o.xI,{name:"selectedIngredient",control:r,render:e=>{let{field:r}=e;return(0,A.jsxs)("div",{className:ge.add_recipe_form_ingredient_input,children:[(0,A.jsx)(K,{children:"Ingredients"}),(0,A.jsxs)("div",{className:ge.add_recipe_form_ingredient_select_wrap,children:[(0,A.jsxs)("select",{...r,className:"".concat(ge.add_recipe_form_ingredient_input_select," ").concat(""===r.value?ge.ingredient_placeholder:ge.ingredient_selected),children:[(0,A.jsx)("option",{value:"",className:ge.add_recipe_form_ingredient_input_option,children:"Add the ingredient"},"default"),t.map((e=>(0,A.jsx)("option",{value:e._id,className:ge.add_recipe_form_ingredient_input_ingredient_option,children:e.name},e._id)))]}),(0,A.jsx)("input",{type:"text",...a("measure"),placeholder:"Enter quantity",className:ge.add_recipe_form_ingredient_input_measure,onChange:d}),(null===i||void 0===i?void 0:i.ingredients)&&!n&&(0,A.jsx)(L,{error:null===i||void 0===i?void 0:i.ingredients})]}),(0,A.jsxs)("button",{className:ge.add_recipe_form_ingredient_input_button,type:"button",onClick:()=>{const e=t.find((e=>e._id===s("selectedIngredient"))),r=s("measure");e&&r?c(e,r):p.oR.error("Please enter quantity and select ingredient")},children:[(0,A.jsx)("span",{children:"Add ingredient "}),(0,A.jsx)(me.A,{id:"plus",className:ge.add_recipe_form_ingredient_input_button_icon})]})]})}})})};var xe,je;function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},fe.apply(null,arguments)}function ve(e,r){let{title:t,titleId:n,...a}=e;return i.createElement("svg",fe({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":n},a),t?i.createElement("title",{id:n},t):null,xe||(xe=i.createElement("path",{d:"M18 6L6 18",stroke:"#050505",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),je||(je=i.createElement("path",{d:"M6 6L18 18",stroke:"#050505",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}const ye=i.forwardRef(ve),we=(t.p,"AddIngredientCard_add_recipe_form_ingredient_card_container__ZPVzo"),Ne="AddIngredientCard_ingredient_card__H348F",Ie="AddIngredientCard_ingredient_info__6ddc8",be="AddIngredientCard_add_recipe_form_ingredient_card_img__yDkPk",ke="AddIngredientCard_add_recipe_form_ingredient_card_text__nL7CO",Ce="AddIngredientCard_ingredient_card_name__vZtox",Ae="AddIngredientCard_ingredient_card_measure__G+LzO",Le="AddIngredientCard_add_recipe_form_close_button__XCFaE",Se="AddIngredientCard_add_recipe_form_close_icon__w-gGM",Me=e=>{let{removeIngredientCard:r,ingredientCards:t}=e;return(0,A.jsx)("div",{className:we,children:t.map(((e,t)=>(0,A.jsxs)("div",{className:Ne,children:[(0,A.jsxs)("div",{className:Ie,children:[(0,A.jsx)("img",{src:e.img,className:be,alt:e.name}),(0,A.jsxs)("div",{className:ke,children:[(0,A.jsx)("h4",{className:Ce,children:e.name}),(0,A.jsx)("p",{className:Ae,children:e.measure})]})]}),(0,A.jsx)("button",{type:"button",onClick:()=>r(t),className:Le,children:(0,A.jsx)(ye,{className:Se})})]},"ingredient-card-".concat(t))))})},Oe="AddRecipeForm_add_recipe_form_inputs__-cPm2",Pe="AddRecipeForm_add_recipe_form_actions__V4hnn",Re="AddRecipeForm_add_recipe_form_close_button__JJBhV",Ve="AddRecipeForm_add_recipe_form_close_icon__eTO1-",qe="AddRecipeForm_add_recipe_form_publish_button__z69bB",Ee="AddRecipeForm_add_recipe_form_container__pOZbp",He=()=>{const{register:e,handleSubmit:r,control:t,setValue:n,getValues:a,watch:s,formState:{errors:c}}=(0,o.mN)({resolver:(0,_.t)(g),defaultValues:{image:null,title:"",description:"",area:"",category:"",time:0,ingredients:[],instructions:""}}),[d,m]=(0,i.useState)([]),[j,y]=(0,i.useState)([]),[w,I]=(0,i.useState)([]),[b,C]=(0,i.useState)(null),[L,S]=(0,i.useState)([]),[M,O]=(0,i.useState)(!1),{user:P}=(0,u.d4)((e=>e.auth)),R=(0,l.Zp)();(0,i.useEffect)((()=>{(async()=>{try{const[e,r,t]=await Promise.all([(0,h.b)(),(0,x.P)(),v()]);m(e),I(r),y(t)}catch(e){(0,f.Qg)("Error occurred while trying to get initial data: ".concat(e.message))}})()}),[]);return(0,A.jsx)("form",{onSubmit:r((async e=>{try{const r=new FormData,{image:t,title:i,description:n,category:a,area:s,time:c,instructions:d}=e;r.append("thumb",t[0]),r.append("title",i),r.append("description",n),r.append("category",a),r.append("area",s),r.append("time",c),r.append("instructions",d),r.append("ingredients",JSON.stringify(L.map((e=>({id:e._id,measure:e.measure}))))),await(0,N.Kk)(r),p.oR.success("Recipe added successfully"),P&&R("/user/".concat(P.id,"/recipies"))}catch(r){p.oR.error("Error occurred while adding new recipe: ".concat(r.message))}})),children:(0,A.jsxs)("div",{className:Ee,children:[(0,A.jsx)("div",{children:(0,A.jsx)(H,{imagePreview:b,handleImageChange:e=>{const r=e.target.files[0];r&&(C(URL.createObjectURL(r)),n("image",[r]))},errors:c})}),(0,A.jsxs)("div",{children:[(0,A.jsx)(D,{name:"title",register:e,errors:c,title:a("title")}),(0,A.jsx)(X,{name:"description",register:e,watch:s,errors:c,maxLength:200,description:a("description")}),(0,A.jsx)(te,{name:"area",control:t,areas:w,errors:c,setValue:n}),(0,A.jsxs)("div",{className:Oe,children:[(0,A.jsx)(ne,{name:"category",control:t,categories:d,errors:c,setValue:n}),(0,A.jsx)(se,{name:"time",register:e,getValues:a,setValue:n,time:a("time"),errors:c})]}),(0,A.jsx)(he,{addIngredient:(e,r)=>{if(L.some((r=>r._id===e._id)))return void p.oR.error("This ingredient is already added");const t={_id:e._id,name:e.name,measure:r,img:e.img},i=[...L,t];n("ingredients",i),S(i)},ingredientsList:j,isTyping:M,handleMeasureChange:e=>{O(!0)},watch:s,errors:c,control:t,register:e}),(0,A.jsx)(Me,{removeIngredientCard:e=>{const r=[...L];r.splice(e,1),S(r)},ingredientCards:L}),(0,A.jsx)(ue,{name:"instructions",register:e,watch:s,errors:c,maxLength:200,description:a("instructions")}),(0,A.jsxs)("div",{className:Pe,children:[(0,A.jsx)("button",{className:Re,onClick:()=>window.location.reload(),children:(0,A.jsx)(k,{className:Ve})}),(0,A.jsx)("button",{className:qe,type:"submit",children:"Publish"})]})]})]})})};var Te=t(8654);const Fe="AddRecipePage_add_title_container__DihU-",Ue=()=>{const[e,r]=(0,i.useState)(!0),[t,o]=(0,i.useState)(null);return(0,i.useEffect)((()=>{(async()=>{try{r(!1)}catch(t){r(!1),o(t.message)}})()}),[]),(0,A.jsxs)(a.default,{children:[(0,A.jsx)("div",{children:e?(0,A.jsx)(s.default,{}):t?(0,A.jsx)("div",{children:t}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.M,{currentPageName:"ADD RECIPE"}),(0,A.jsxs)("div",{className:Fe,children:[(0,A.jsx)(c.A,{children:"Add Recipe"}),(0,A.jsx)(d.A,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]}),(0,A.jsx)(He,{})]})}),(0,A.jsx)(Te.A,{})]})};Ue.prototype={};const De=Ue},8139:(e,r)=>{var t;!function(){"use strict";var i={}.hasOwnProperty;function n(){for(var e="",r=0;r<arguments.length;r++){var t=arguments[r];t&&(e=s(e,a(t)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var r="";for(var t in e)i.call(e,t)&&e[t]&&(r=s(r,t));return r}function s(e,r){return r?e?e+" "+r:e+r:e}e.exports?(n.default=n,e.exports=n):void 0===(t=function(){return n}.apply(r,[]))||(e.exports=t)}()}}]);
//# sourceMappingURL=73.c3d5a4f6.chunk.js.map