"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[446],{1133:(e,a,t)=>{t.d(a,{P:()=>i});var s=t(6213),n=t(5656);const i=async()=>{try{return(await s.A.get("/areas")).data}catch(e){(0,n.r4)(e)}}},2279:(e,a,t)=>{t.d(a,{b:()=>n});var s=t(6213);const n=async function(){let{page:e=1,limit:a=11,all:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t?{}:{page:e,limit:a};return(await s.A.get("/categories",{params:n})).data}},7653:(e,a,t)=>{t.d(a,{A:()=>i});t(5043);const s="MainTitle_title__k2iVV";var n=t(579);const i=e=>{let{children:a}=e;return(0,n.jsx)("h2",{className:s,children:a})}},5823:(e,a,t)=>{t.d(a,{A:()=>i});t(5043);const s="Subtitle_subtitle__Y5mSh";var n=t(579);const i=e=>{let{children:a}=e;return(0,n.jsx)("p",{className:s,children:a})}},5520:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Ae});var s=t(5043),n=t(3003),i=t(3216),r=t(2242),c=t(4506);const l={"visually-hidden":"NavigationButton_visually-hidden__Aoao+",recipes_navigation_button:"NavigationButton_recipes_navigation_button__gmcDC",recipes_navigation_button_icon:"NavigationButton_recipes_navigation_button_icon__FoFSj"};var o=t(6703),d=t(579);const _=e=>{let{title:a}=e;const t=(0,n.wA)();return(0,d.jsxs)("button",{type:"button",className:l.recipes_navigation_button,onClick:()=>{t((0,o.Qt)()),t((0,o.sz)()),t((0,o.h6)())},children:[(0,d.jsx)(c.A,{name:"icon-arrow-back",className:l.recipes_navigation_button_icon}),(0,d.jsx)("span",{className:l.recipes_navigation_button_text,children:a})]})};var m=t(7653),h=t(5823),u=t(9397),g=t(8958);const p="RecipeList_recipes_list__5uN95",x="RecipeList_recipe_item__va2Kn",j=e=>{let{recipesList:a,isLoading:t,errorMsg:n,scrollToRef:i}=e;return(0,s.useEffect)((()=>{i&&i.current&&i.current.scrollIntoView({behavior:"instant"})}),[i]),(0,d.jsx)(d.Fragment,{children:t?(0,d.jsx)(g.default,{}):n?(0,d.jsx)("div",{children:n}):a&&a.length>0?(0,d.jsx)("ul",{className:p,children:a.map((e=>(0,d.jsx)("li",{className:x,children:(0,d.jsx)(u.j,{recipe:e,scrollToTop:!1})},e._id)))}):(0,d.jsx)("div",{children:"No recipes were found"})})},w="RecipePagination_pagination_elements__coAmO",v="RecipePagination_pagination_element__9BYnI",f="RecipePagination_pagination_element_active__1lTqQ",N="RecipePagination_pagination_dots__fV6S2",y=e=>{let{total:a}=e;const t=(0,n.wA)(),i=(0,n.d4)((e=>e.filters)),[r,c]=(0,s.useState)([]),l=parseInt(a,10);return(0,s.useEffect)((()=>{const e=[...Array(l).keys()].map((e=>e+1));const a=[];if(l<=3)a.push(...e);else{a.push(1),i.page>3&&a.push("...");const e=Math.max(2,i.page-1),t=Math.min(l-1,i.page+1);for(let s=e;s<=t;s++)a.push(s);i.page<l-2&&a.push("..."),a.push(l)}c(a)}),[i.page,l]),(0,d.jsx)(d.Fragment,{children:r.length>1?(0,d.jsx)("ul",{className:w,children:r.map(((e,a)=>"..."===e?(0,d.jsx)("li",{className:N,children:e},"dots-".concat(a)):(0,d.jsx)("li",{className:"".concat(v," ").concat(e===i.page?f:""),onClick:()=>{return a=e,void(i.page!==a&&t((0,o.cs)(a)));var a},children:e},e)))}):null})},C="select_selectWrapper__JwQck",b="select_selectButton__w8Z6G",k="select_selectValue__H3pN8",A="select_arrow__ffapH",S="select_selectDropdown__eAgIZ",E="select_active__w7yKB";var L=t(7182);const R=e=>{let{options:a=[],value:t,onChange:n}=e;const[i,r]=(0,s.useState)(!1),[c,l]=(0,s.useState)(t),o=(0,s.useRef)(null),_=(0,s.useRef)(null),m=e=>{o.current&&!o.current.contains(e.target)&&_.current&&!_.current.contains(e.target)&&r(!1)};return(0,s.useEffect)((()=>(document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)})),[]),(0,d.jsxs)("div",{className:"".concat(C,"  ").concat(i?E:""),children:[(0,d.jsxs)("button",{className:b,role:"combobox","aria-labelledby":b,"aria-haspopup":"listbox","aria-expanded":i,"aria-controls":S,onClick:()=>{r(!i)},ref:_,tabIndex:0,children:[(0,d.jsx)("span",{className:k,children:c}),(0,d.jsx)("span",{children:(0,d.jsx)("svg",{className:A,children:(0,d.jsx)("use",{xlinkHref:"".concat(L.A,"#","icon-arrow-down")})})})]}),i&&(0,d.jsx)("ul",{className:S,role:"listbox",id:S,ref:o,children:a.map((e=>(0,d.jsxs)("li",{role:"option",onClick:()=>(e=>{e.name===c?(l(t),n({})):(l(e.name),n(e)),r(!1)})(e),children:[(0,d.jsx)("input",{type:"radio",id:e.name,name:t,value:e.name,checked:c===e.name,readOnly:!0}),(0,d.jsx)("label",{htmlFor:e.name,children:e.name})]},e._id)))})]})},T="RecipeFilters_recipeFilters__PafH2",z=()=>{const e=(0,n.wA)(),a=(0,n.d4)((e=>e.ingredients)),t=(0,n.d4)((e=>e.areas)),s=(0,n.d4)((e=>e.filters)),i=a=>{let{_id:t}=a;t===s.ingredients?e((0,o.sz)()):e((0,o.Pg)(t))},r=a=>{let{_id:t}=a;t===s.area?e((0,o.h6)()):e((0,o.iq)(t))};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("ul",{className:T,children:["ingredients","area"].map((e=>(e=>{let s,n,c;switch(e){case"ingredients":s=a,n=i,c="ingredients";break;case"area":s=t,n=r,c="area";break;default:return null}return(0,d.jsx)("li",{children:(0,d.jsx)(R,{options:s,onChange:n,value:e,className:c})},e)})(e)))})})};var F=t(7160),I=t(6213);var M=t(1133),P=t(9394),W=t(2656);const q="Recipes_content_wrapper__dUuWn",D="Recipes_recipes_wrapper__+D2g1",H="Recipes_recipes_container__XAn2y",O="Recipes_recipes_header_container__Fb78n",B=()=>{const e=(0,n.wA)(),a=(0,n.d4)((e=>e.filters)),t=(0,n.d4)((e=>e.category.category)),[i,c]=(0,s.useState)(null),[l,u]=(0,s.useState)(!0),[g,p]=(0,s.useState)(null),[x,w]=(0,s.useState)(window.innerWidth),[v,f]=(0,s.useState)(x>=1440?12:10),[N,C]=(0,s.useState)(window.innerWidth),b=(0,s.useRef)(null);return(0,s.useEffect)((()=>{(async()=>{try{u(!0);const e=await(0,F.qt)({page:a.page,limit:v,category:a.category,ingredients:a.ingredients,area:a.area});u(!1),c(e.recipes),f(x>=1440?12:10),C(e.total)}catch(e){u(!1),p(e.message)}})()}),[a.ingredients,a.area,x,a.page,v,a.category]),(0,s.useEffect)((()=>{(async()=>{try{u(!0);const a=await(async()=>(await I.A.get("ingredients")).data)();u(!1),e((0,P.D)(a))}catch(a){u(!1),p(a.message)}})()}),[e]),(0,s.useEffect)((()=>{(async()=>{try{u(!0);const a=await(0,M.P)();u(!1),e((0,W.V)(a))}catch(a){u(!1),p(a.message)}})()}),[e]),(0,s.useEffect)((()=>{e((0,o.hp)())}),[a.area,a.ingredients,e]),(0,s.useEffect)((()=>{const e=()=>{w(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,s.useEffect)((()=>{const e=()=>{w(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,d.jsxs)(r.default,{className:H,children:[(0,d.jsxs)("div",{className:O,ref:b,children:[(0,d.jsx)(_,{title:"back"}),(0,d.jsx)(m.A,{children:t.name}),(0,d.jsx)(h.A,{children:"Go on a taste journey, where every sip is a sophisticated creative chord, and every dessert is an expression of the most refined gastronomic desires."})]}),(0,d.jsxs)("div",{className:q,children:[(0,d.jsx)(z,{}),(0,d.jsxs)("div",{className:D,children:[(0,d.jsx)(j,{recipesList:i,isLoading:l,errorMsg:g,scrollToRef:b}),(0,d.jsx)(y,{total:Math.ceil(N/v)})]})]})]})};var V=t(2279),K=t(4475);const U="CategoryCard_card__IOFmd",G="CategoryCard_image__rDizQ",Q="CategoryCard_content__+wDWS",Z="CategoryCard_titleHolder__qaAuv",J="CategoryCard_title__D62ZM",X="CategoryCard_smallCard__2iljz",Y="CategoryCard_largeCard__waJ9e",$=e=>{let{imgUrl:a,name:t,onClick:s,size:n}=e;const i="large"===n?Y:X,r="".concat((a||"").replace(/.jpg$/,""),"@2x.jpg");return(0,d.jsxs)("div",{className:"".concat(U," ").concat(i),children:[(0,d.jsx)("img",{srcSet:"".concat(r," 2x"),src:a,alt:t,className:G}),(0,d.jsxs)("div",{className:Q,children:[(0,d.jsx)("div",{className:Z,children:(0,d.jsx)("p",{className:J,children:t})}),(0,d.jsx)(K.A,{size:44,iconName:"icon-arrow-up-right",className:"buttonLightStroke",iconClassName:"arrowLight",onClick:s})]})]})},ee="CategoryList_list__zoEli",ae="CategoryList_allCategories__qPqOc",te="https://team-project-foodies-backend.onrender.com/api".endsWith("api")?"https://team-project-foodies-backend.onrender.com/api".slice(0,-3):"http://localhost:3001/",se=e=>{let{categories:a,onCategoryClick:t,onAllCategoriesClick:n,allCategoriesLoaded:i}=e;const[r,c]=(0,s.useState)(window.innerWidth);(0,s.useEffect)((()=>{const e=()=>c(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const l=e=>{if(r<768)return"small";if(r>=768&&r<1440){if(e<3)return 2===e?"large":"small";return 4===(e-3)%5?"large":"small"}{const a=Math.floor(e/3),t=e%3;return a%3===0?2===t?"large":"small":a%3===1?0===t?"large":"small":1===t?"large":"small"}};return(0,d.jsxs)("ul",{className:ee,children:[a.map(((e,a)=>(0,d.jsx)("li",{children:(0,d.jsx)($,{imgUrl:te+e.imgUrl,name:e.name,size:l(a),onClick:()=>t(e)})},e._id))),!i&&(0,d.jsx)("li",{className:ae,children:(0,d.jsx)("button",{onClick:n,children:"ALL CATEGORIES"})})]})};var ne=t(3401);const ie="Categories_container__laatR",re="Categories_categories__k2b5z",ce="Categories_categoriesHead__6EodN",le="Categories_subtitle__ollav";var oe=t(6982);const de=()=>{const e=(0,n.wA)(),[a,t]=(0,s.useState)([]),[i,r]=(0,s.useState)(!1),[c,l]=(0,s.useState)(!0);(0,s.useEffect)((()=>{(0,V.b)().then((e=>{t(e),l(!1)})).catch((e=>{ne.oR.error("Failed to fetch catagories. ".concat(e.message))}))}),[]);return(0,d.jsx)("section",{className:ie,children:(0,d.jsxs)("div",{className:re,children:[(0,d.jsxs)("div",{className:ce,children:[(0,d.jsx)(m.A,{children:"Categories"}),(0,d.jsx)("div",{className:le,children:(0,d.jsx)(h.A,{children:"Discover a limitless world of culinary possibilities and enjoy exquisite recipes that combine taste, style and the warm atmosphere of the kitchen."})})]}),!c&&(0,d.jsx)(se,{categories:a,onCategoryClick:a=>{e((0,o.Dz)(a.name)),e((0,oe.Fb)(a))},onAllCategoriesClick:async()=>{try{const e=await(0,V.b)({all:!0});t(e),r(!0)}catch(e){ne.oR.error("Failed to fetch all catagories. ".concat(e.message))}},allCategoriesLoaded:i})]})})};var _e=t(8654),me=t(5656);const he="Testimonials_testimonial_container__wK7pS",ue="Testimonials_testimonial_hightlight__gXIkv",ge="Testimonials_testimonial_title__qcFHw",pe="Testimonials_swiper__HLe-K",xe="Testimonials_swiperSlide__pgI-L",je="Testimonials_icon__MRglO",we="Testimonials_description__gi-FU",ve="Testimonials_owner__NgTn3";var fe=t(2896),Ne=t(50),ye=t(4975);t(4014),t(5084);const Ce=()=>{const[e,a]=(0,s.useState)([]),[t,n]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{(async()=>{try{return(await I.A.get("/testimonials")).data}catch(e){(0,me.r4)(e)}})().then((e=>{a(e),n(!1)})).catch((e=>console.log(e)))}),[]),(0,d.jsx)(r.default,{children:(0,d.jsx)("div",{className:he,children:e.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{className:ue,children:"What our customer say"}),(0,d.jsx)("h2",{className:ge,children:"TESTIMONIALS"}),(0,d.jsx)(ye.RC,{autoplay:{delay:6e3,disableOnInteraction:!0},spaceBetween:30,slidesPerView:1,pagination:{clickable:!0},modules:[Ne.dK,Ne.Ij],className:pe,children:e.map((e=>(0,d.jsxs)(ye.qr,{className:xe,children:[(0,d.jsx)(fe.I,{id:"icon-quote",className:je,width:24,height:24}),(0,d.jsx)("p",{className:we,children:e.testimonial}),(0,d.jsx)("h4",{className:ve,children:e.owner.name})]},"".concat(e._id,"-").concat(e.index))))})]})})})},be="MainPage_main_container__GxHar",ke=(0,s.lazy)((()=>t.e(665).then(t.bind(t,1665)))),Ae=()=>{const{openModal:e}=(0,i.KC)(),{category:a}=(0,n.d4)((e=>e.filters));return(0,d.jsxs)(r.default,{className:be,children:[(0,d.jsx)(ke,{openModal:e}),a?(0,d.jsx)(B,{}):(0,d.jsx)(de,{}),(0,d.jsx)(Ce,{}),(0,d.jsx)(_e.A,{})]})}}}]);
//# sourceMappingURL=446.92f56f11.chunk.js.map