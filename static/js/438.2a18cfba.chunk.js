/*! For license information please see 438.2a18cfba.chunk.js.LICENSE.txt */
(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[438,242,781,594],{7182:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});t(5043);const a=t.p+"static/media/icons.b4b53982bb58f70738e39b174fd2a800.svg"},2242:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});t(5043);var a=t(8139),r=t.n(a),l=t(579);function o(e){let{children:s,className:t}=e;const a=r()(t);return(0,l.jsx)("div",{className:a,children:s})}},8654:(e,s,t)=>{"use strict";t.d(s,{A:()=>j});var a=t(2242),r=t(2896);const l=[{id:"facebook",link:"https://www.facebook.com/goITclub/"},{id:"instagram",link:"https://www.instagram.com/goitclub/"},{id:"youtube",link:"https://www.youtube.com/c/GoIT"}],o="NetworkLinks_networkLinks__BfmH8",i="NetworkLinks_networkLink__TnYOO";var n=t(579);const c=()=>(0,n.jsx)("ul",{className:o,children:l.map((e=>{let{id:s,link:t}=e;return(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:t,className:i,target:"_blank",rel:"nofollow noopener noreferrer",children:(0,n.jsx)(r.I,{id:s,width:20,height:20})})},s)}))}),d="CopyRight_copyright__rdjXI",u=()=>(0,n.jsx)("span",{className:d,children:"@2024, Foodies. All rights reserved"});var _=t(5475);const h="Logo_logo__n9+zU",m=()=>(0,n.jsx)(_.k2,{to:"/",className:h,children:"foodies"}),f="Footer_top__XfDGF",x="Footer_bottom__J7kjW",j=()=>(0,n.jsxs)("footer",{children:[(0,n.jsx)(a.default,{children:(0,n.jsxs)("div",{className:f,children:[(0,n.jsx)(m,{}),(0,n.jsx)(c,{})]})}),(0,n.jsx)("div",{className:x,children:(0,n.jsx)(u,{})})]})},4506:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});t(5043);var a=t(7182),r=t(579);const l=e=>{let{name:s,className:t=""}=e;return(0,r.jsx)("svg",{className:t,children:(0,r.jsx)("use",{xlinkHref:"".concat(a.A,"#").concat(s)})})}},2896:(e,s,t)=>{"use strict";t.d(s,{I:()=>n});var a=t(8139),r=t.n(a);const l={icon:"Icons_icon__7UlIp"};var o=t(7182),i=t(579);const n=e=>{let{id:s,className:t,width:a,height:n}=e;return(0,i.jsx)("svg",{width:a,height:n,id:s,className:r()(l.icons,t),children:(0,i.jsx)("use",{xlinkHref:"".concat(o.A,"#").concat(s)})})}},9781:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5043),r=t(3003),l=t(3216),o=t(8958),i=t(4564);const n="LogoutForm_logout_title__0nRIl",c="LogoutForm_logout_text__3fohi",d="LogoutForm_logout_btn__UixqU",u="LogoutForm_logout_buttons__Miq70",_="LogoutForm_loader_overlay__kbs84";var h=t(579);const m=e=>{let{closeModal:s}=e;const t=(0,r.wA)(),m=(0,l.Zp)(),{loading:f}=(0,r.d4)((e=>e.auth)),[,x]=(0,a.useState)(!1);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{className:n,children:"LOG OUT"}),(0,h.jsx)("p",{className:c,children:"You can always log back in at my time."}),(0,h.jsxs)("div",{className:u,children:[(0,h.jsx)("button",{onClick:()=>{t((0,i.ri)()),x(!1),s(),m("/")},className:d,type:"button",children:"LOGOUT"}),(0,h.jsx)("button",{onClick:s,className:d,type:"button",children:"CANCEL"})]}),f&&(0,h.jsx)("div",{className:_,children:(0,h.jsx)(o.default,{})})]})}},7653:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});t(5043);const a="MainTitle_title__k2iVV";var r=t(579);const l=e=>{let{children:s}=e;return(0,r.jsx)("h2",{className:a,children:s})}},9594:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(5043);const r="Modal_modal_overlay__0uG9G",l="Modal_modal_content__8KQIg",o="Modal_modal_close__qzRzF";var i=t(579);const n=e=>{let{isOpen:s,onClose:t,children:n}=e;return(0,a.useEffect)((()=>{const e=e=>{"Escape"===e.key&&t()};return s&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[s,t]),s?(0,i.jsx)("div",{className:r,onClick:t,children:(0,i.jsxs)("div",{className:l,onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:o,onClick:t,children:(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M18 6L6 18",stroke:"#050505",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M6 6L18 18",stroke:"#050505",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),n]})}):null}},80:(e,s,t)=>{"use strict";t.d(s,{M:()=>_});var a=t(5475),r=t(2242);const l="PathInfo_path_info_container__lKMh4",o="PathInfo_page_name__CWurv",i="PathInfo_home_name__qgTQS",n="PathInfo_current_page_name__Vlki3";var c=t(8139),d=t.n(c),u=t(579);const _=e=>{let{currentPageName:s}=e;return(0,u.jsxs)(r.default,{className:l,children:[(0,u.jsx)(a.k2,{className:d()(o,i),to:"/",children:"HOME"}),(0,u.jsx)("span",{className:d()(o,i),children:"/"}),(0,u.jsx)("span",{className:d()(o,n),children:s})]})}},5823:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});t(5043);const a="Subtitle_subtitle__Y5mSh";var r=t(579);const l=e=>{let{children:s}=e;return(0,r.jsx)("p",{className:a,children:s})}},6438:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>W});var a=t(3216),r=t(5043),l=t(3003);const o="ProfilePage_main_container__xY-uC",i="ProfilePage_main_content__z1SzY";var n=t(2242),c=t(7653),d=t(5823),u=t(80),_=t(8654);const h="ProfileInfo_profile_info__dfh8J",m="ProfileInfo_profile_info_card__DRxYg",f="ProfileInfo_user_name__TWPCD",x="ProfileInfo_btn_logout__npySN";var j=t(9594),p=t(9781),v=t(8958),g=t(4564),w=t(8179),N=t(3719);const k="DetailsList_details_list__sI4go",y="DetailsList_details_list_item__T34GD",b="DetailsList_item_key__kriq9",L="DetailsList_item_value__Wlpxh";var P=t(3775),C=t(579);const O=e=>{let{userDetails:s,isLoading:t,isOwnProfile:a}=e;const r=(0,l.d4)(P.Cp),o=(0,l.d4)(P.Oe),i=(0,l.d4)(P.Ef);return(0,C.jsxs)("ul",{className:k,children:[(0,C.jsxs)("li",{className:y,children:[(0,C.jsx)("p",{className:b,children:"Email: "}),(0,C.jsx)("span",{className:L,children:t||!s.email?"No email":s.email})]}),(0,C.jsxs)("li",{className:y,children:[(0,C.jsx)("p",{className:b,children:"Added recipes: "}),(0,C.jsx)("span",{className:L,children:t||!s.recipesCount?0:s.recipesCount})]}),a&&s.hasOwnProperty("favorites")&&(0,C.jsxs)("li",{className:y,children:[(0,C.jsx)("p",{className:b,children:"Favorites: "}),(0,C.jsx)("span",{className:L,children:t||!r?0:r})]}),(0,C.jsxs)("li",{className:y,children:[(0,C.jsx)("p",{className:b,children:"Followers: "}),(0,C.jsx)("span",{className:L,children:t||!i?0:i})]}),a&&s.hasOwnProperty("followingCount")&&(0,C.jsxs)("li",{className:y,children:[(0,C.jsx)("p",{className:b,children:"Following: "}),(0,C.jsx)("span",{className:L,children:t||!o?0:o})]})]})};var F=t(5656);const A="Avatar_profile_avatar_block__P1gv7",I="Avatar_profile_avatar__LgrlV",S="Avatar_btn_add_avatar__yC+27",E="Avatar_plus__ZhTjb";var U=t(4506),T=t(3401);const M=e=>{var s;let{avatar:t,isOwnProfile:a}=e;const o=(0,l.wA)(),{user:i,loading:n}=(0,l.d4)((e=>e.auth)),[c,d]=(0,r.useState)(localStorage.getItem("avatarURL")||(null!==(s=null===i||void 0===i?void 0:i.avatarURL)&&void 0!==s?s:""));return(0,r.useEffect)((()=>{d(a?(0,F.U9)(null===i||void 0===i?void 0:i.avatarURL):(0,F.U9)(t))}),[null===i||void 0===i?void 0:i.avatarURL,t,a]),(0,C.jsxs)("div",{className:A,children:[(0,C.jsx)("img",{alt:"User avatar",src:c,className:I,onError:()=>d("".concat("/team-project-foodies-frontend","/avatar-placeholder.svg"))}),a&&(0,C.jsxs)("label",{htmlFor:"avatar",className:S,children:[(0,C.jsx)(U.A,{name:"icon-plus",className:E}),(0,C.jsx)("input",{style:{display:"none"},type:"file",id:"avatar",name:"avatar",accept:".jpg, .jpeg, .png",onChange:e=>{const s=e.target.files[0];if(!s)return;const t=new FormData;t.append("avatar",s);try{o((0,g.Oh)(t))}catch(a){T.oR.error("Error occured: ".concat(a.message)),console.error(a)}}})]}),n&&(0,C.jsx)(v.default,{})]})},R=e=>{let{userId:s,isOwnProfile:t}=e;const o=(0,l.wA)(),i=(0,a.Zp)(),n=(0,a.zy)(),c=(0,l.d4)(P.SS),d=(0,l.d4)(P.Ef),[u,_]=(0,r.useState)(!0),[k,y]=(0,r.useState)({}),[b,L]=(0,r.useState)(!1),A=n.pathname.split("/"),I=A[A.length-1],S=()=>{L(!1)};return(0,r.useEffect)((()=>{(async()=>{try{if(!s)return;const e=await(0,w.ON)({id:s});y(e),o((0,N.CI)(e.favorites)),o((0,N.iF)(e.followersCount)),o((0,N.Uy)(e.followingCount))}catch(e){T.oR.error("Error occured: ".concat(e.message)),console.error(e)}finally{_(!1)}})()}),[o,s]),(0,C.jsxs)(r.Suspense,{fallback:(0,C.jsx)(v.default,{}),children:[(0,C.jsxs)("div",{className:h,children:[(0,C.jsxs)("div",{className:m,children:[(0,C.jsx)(M,{avatar:k.avatarURL,isOwnProfile:t}),(0,C.jsx)("p",{className:f,children:u||!k.name?"User name":k.name}),(0,C.jsx)(O,{userDetails:k,isLoading:u,isOwnProfile:t})]}),t?(0,C.jsx)("button",{type:"button",className:x,onClick:()=>{L(!0)},children:"Log Out"}):k.isFollowing?(0,C.jsx)("button",{type:"button",className:x,onClick:()=>{(async()=>{try{if(!s)return;if(await(0,w.Qt)(k.id),y((e=>({...e,followersCount:k.followersCount-1,isFollowing:!1}))),"followers"===I){const e=await(0,w.ri)({id:s,page:1,limit:c});o((0,N.dT)(e.followers))}o((0,N.iF)(d-1))}catch(e){T.oR.error("Error occured: ".concat(e.message)),console.error(e)}})()},children:"Following"}):(0,C.jsx)("button",{type:"button",className:x,onClick:()=>{(async()=>{try{if(!s)return;if(await(0,w.pV)(k.id),y((e=>({...e,followersCount:k.followersCount+1,isFollowing:!0}))),"followers"===I){const e=await(0,w.ri)({id:s,page:1,limit:c});o((0,N.dT)(e.followers))}o((0,N.iF)(d+1))}catch(e){(0,F.Qg)(e.message)}})()},children:"Follow"})]}),b&&(0,C.jsx)(j.default,{isOpen:b,onClose:S,children:(0,C.jsx)(p.default,{handleLogOut:()=>{o((0,g.ri)()),S(),i("/")},closeModal:S})})]})};var D=t(5475);const z="ProfileTabs_tabs_container__REqVB",G="ProfileTabs_tabs_list__jkHOB",q="ProfileTabs_tab_item__RX8Us",H="ProfileTabs_active__xNjl6",V=e=>{let{userId:s,isOwnProfile:t}=e;const r=(0,a.zy)(),l=e=>{let{isActive:s}=e;return s?H:""};return(0,C.jsxs)("div",{className:z,children:[(0,C.jsxs)("ul",{className:G,children:[(0,C.jsx)("li",{className:q,children:(0,C.jsx)(D.k2,{to:"/user/".concat(s,"/recipies"),state:{from:r},className:l,children:t?"My recipes":"Recipes"})}),t&&(0,C.jsx)("li",{className:q,children:(0,C.jsx)(D.k2,{to:"/user/".concat(s,"/favorites"),state:{from:r},className:l,children:"My favorites"})}),(0,C.jsx)("li",{className:q,children:(0,C.jsx)(D.k2,{to:"/user/".concat(s,"/followers"),state:{from:r},className:l,children:"Followers"})}),t&&(0,C.jsx)("li",{className:q,children:(0,C.jsx)(D.k2,{to:"/user/".concat(s,"/following"),state:{from:r},className:l,children:"Following"})})]}),(0,C.jsx)(a.sv,{})]})},W=()=>{const{id:e}=(0,a.g)(),{user:s}=(0,l.d4)((e=>e.auth)),[t,h]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{s&&s.id&&e&&h(s.id===e)}),[s,e]),(0,C.jsxs)(n.default,{className:o,children:[(0,C.jsx)(u.M,{currentPageName:"profile"}),(0,C.jsx)(c.A,{children:"Profile"}),(0,C.jsx)(d.A,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."}),(0,C.jsxs)("div",{className:i,children:[(0,C.jsx)(R,{userId:e,isOwnProfile:t}),(0,C.jsx)(V,{userId:e,isOwnProfile:t})]}),(0,C.jsx)(_.A,{})]})}},3775:(e,s,t)=>{"use strict";t.d(s,{Cp:()=>o,Ef:()=>i,Oe:()=>n,SS:()=>d,TM:()=>u,fr:()=>r,ft:()=>_,s0:()=>c,tH:()=>l,xu:()=>a});const a=e=>e.auth.user,r=e=>e.list.list,l=e=>e.list.totalUsers,o=e=>e.list.favorites,i=e=>e.list.followers,n=e=>e.list.following,c=e=>e.list.page,d=e=>e.list.limit,u=e=>e.list.isLoading,_=e=>e.list.limit},8139:(e,s)=>{var t;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e="",s=0;s<arguments.length;s++){var t=arguments[s];t&&(e=o(e,l(t)))}return e}function l(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var s="";for(var t in e)a.call(e,t)&&e[t]&&(s=o(s,t));return s}function o(e,s){return s?e?e+" "+s:e+s:e}e.exports?(r.default=r,e.exports=r):void 0===(t=function(){return r}.apply(s,[]))||(e.exports=t)}()}}]);
//# sourceMappingURL=438.2a18cfba.chunk.js.map