/*! For license information please see 438.a4563367.chunk.js.LICENSE.txt */
(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[438,242,781,594],{2242:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});t(5043);var a=t(8139),o=t.n(a),r=t(579);function n(e){let{children:s,className:t}=e;const a=o()(t);return(0,r.jsx)("div",{className:a,children:s})}},8654:(e,s,t)=>{"use strict";t.d(s,{A:()=>x});var a=t(2242),o=t(4475);const r=[{id:"facebook",link:"https://www.facebook.com/goITclub/"},{id:"instagram",link:"https://www.instagram.com/goitclub/"},{id:"youtube",link:"https://www.youtube.com/c/GoIT"}],n="NetworkLinks_networkLinks__BfmH8",l="NetworkLinks_networkLink__TnYOO";var i=t(579);const c=()=>(0,i.jsx)("ul",{className:n,children:r.map((e=>{let{id:s,link:t}=e;return(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:t,className:l,target:"_blank",rel:"nofollow noopener noreferrer",children:(0,i.jsx)(o.A,{iconName:"icon-".concat(s),className:"network-link-button",iconClassName:"network-link-icon"})})},s)}))}),d="CopyRight_copyright__rdjXI",_=()=>(0,i.jsx)("span",{className:d,children:"@2024, Foodies. All rights reserved"});var u=t(5475);const m="Logo_logo__n9+zU",f=()=>(0,i.jsx)(u.k2,{to:"/",className:m,children:"foodies"}),h="Footer_top__XfDGF",j="Footer_bottom__J7kjW",x=()=>(0,i.jsxs)("footer",{children:[(0,i.jsx)(a.default,{children:(0,i.jsxs)("div",{className:h,children:[(0,i.jsx)(f,{}),(0,i.jsx)(c,{})]})}),(0,i.jsx)("div",{className:j,children:(0,i.jsx)(_,{})})]})},9781:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5043),o=t(3003),r=t(3216),n=t(8958),l=t(4564);const i="LogoutForm_logout_title__0nRIl",c="LogoutForm_logout_text__3fohi",d="LogoutForm_logout_btn__UixqU",_="LogoutForm_logout_buttons__Miq70",u="LogoutForm_loader_overlay__kbs84";var m=t(579);const f=e=>{let{closeModal:s}=e;const t=(0,o.wA)(),f=(0,r.Zp)(),{loading:h}=(0,o.d4)((e=>e.auth)),[,j]=(0,a.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h2",{className:i,children:"LOG OUT"}),(0,m.jsx)("p",{className:c,children:"You can always log back in at my time."}),(0,m.jsxs)("div",{className:_,children:[(0,m.jsx)("button",{onClick:()=>{t((0,l.ri)()),j(!1),s(),f("/")},className:d,type:"button",children:"LOGOUT"}),(0,m.jsx)("button",{onClick:s,className:d,type:"button",children:"CANCEL"})]}),h&&(0,m.jsx)("div",{className:u,children:(0,m.jsx)(n.default,{})})]})}},7653:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});t(5043);const a="MainTitle_title__k2iVV";var o=t(579);const r=e=>{let{children:s}=e;return(0,o.jsx)("h2",{className:a,children:s})}},9594:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(5043),o=t(7382);const r="Modal_modal_overlay__0uG9G",n="Modal_modal_content__8KQIg",l="Modal_modal_close__qzRzF",i="Modal_modal_close_icon__nU4V0";var c=t(579);const d=e=>{let{isOpen:s,onClose:t,children:d}=e;return(0,a.useEffect)((()=>{const e=e=>{"Escape"===e.key&&t()};return s&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[s,t]),s?(0,c.jsx)("div",{className:r,onClick:t,children:(0,c.jsxs)("div",{className:n,onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("button",{className:l,onClick:t,children:(0,c.jsx)(o.A,{name:"icon-close",className:i})}),d]})}):null}},80:(e,s,t)=>{"use strict";t.d(s,{M:()=>u});var a=t(5475),o=t(2242);const r="PathInfo_path_info_container__lKMh4",n="PathInfo_page_name__CWurv",l="PathInfo_home_name__qgTQS",i="PathInfo_current_page_name__Vlki3";var c=t(8139),d=t.n(c),_=t(579);const u=e=>{let{currentPageName:s}=e;return(0,_.jsxs)(o.default,{className:r,children:[(0,_.jsx)(a.k2,{className:d()(n,l),to:"/",children:"HOME"}),(0,_.jsx)("span",{className:d()(n,l),children:"/"}),(0,_.jsx)("span",{className:d()(n,i),children:s})]})}},4475:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});t(5043);const a={button:"RoundButton_button__gOFkP",icon:"RoundButton_icon__5EP-B",favorite:"RoundButton_favorite__WiVpE","delete-button":"RoundButton_delete-button__dtqMK","network-link-button":"RoundButton_network-link-button__BXgKs","delete-icon":"RoundButton_delete-icon__pf3vD","network-link-icon":"RoundButton_network-link-icon__6837r",arrowLight:"RoundButton_arrowLight__Rf8xn",buttonLightStroke:"RoundButton_buttonLightStroke__6kp+e"};var o=t(7382),r=t(8139),n=t.n(r),l=t(579);const i=e=>{let{iconName:s="icon-arrow-up-right",className:t="",iconClassName:r="",onClick:i}=e;return(0,l.jsx)("button",{className:n()(a.button,a[t]),onClick:i,children:(0,l.jsx)(o.A,{name:s,className:n()(a.icon,a[r])})})}},5823:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});t(5043);const a="Subtitle_subtitle__Y5mSh";var o=t(579);const r=e=>{let{children:s}=e;return(0,o.jsx)("p",{className:a,children:s})}},6438:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>K});var a=t(3216),o=t(5043),r=t(3003);const n="ProfilePage_main_container__xY-uC",l="ProfilePage_head_content__kR7r3",i="ProfilePage_main_content__z1SzY";var c=t(2242),d=t(7653),_=t(5823),u=t(80),m=t(8654);const f="ProfileInfo_profile_info__dfh8J",h="ProfileInfo_profile_info_card__DRxYg",j="ProfileInfo_user_name__TWPCD",x="ProfileInfo_btn_logout__npySN";var p=t(9594),v=t(9781),g=t(8958),N=t(4564),w=t(8179),k=t(3719);const b="DetailsList_details_list__sI4go",y="DetailsList_details_list_item__T34GD",P="DetailsList_item_key__kriq9",L="DetailsList_item_value__Wlpxh";var C=t(3775),O=t(579);const R=e=>{let{userDetails:s,isLoading:t,isOwnProfile:a}=e;const o=(0,r.d4)(C.Cp),n=(0,r.d4)(C.Ub),l=(0,r.d4)(C.Oe),i=(0,r.d4)(C.Ef);return(0,O.jsxs)("ul",{className:b,children:[(0,O.jsxs)("li",{className:y,children:[(0,O.jsx)("p",{className:P,children:"Email: "}),(0,O.jsx)("span",{className:L,children:t||!s.email?"No email":s.email})]}),(0,O.jsxs)("li",{className:y,children:[(0,O.jsx)("p",{className:P,children:"Added recipes: "}),(0,O.jsx)("span",{className:L,children:t||!n?0:n})]}),a&&s.hasOwnProperty("favorites")&&(0,O.jsxs)("li",{className:y,children:[(0,O.jsx)("p",{className:P,children:"Favorites: "}),(0,O.jsx)("span",{className:L,children:t||!o?0:o})]}),(0,O.jsxs)("li",{className:y,children:[(0,O.jsx)("p",{className:P,children:"Followers: "}),(0,O.jsx)("span",{className:L,children:t||!i?0:i})]}),a&&s.hasOwnProperty("followingCount")&&(0,O.jsxs)("li",{className:y,children:[(0,O.jsx)("p",{className:P,children:"Following: "}),(0,O.jsx)("span",{className:L,children:t||!l?0:l})]})]})};var F=t(5656);const S="Avatar_profile_avatar_block__P1gv7",E="Avatar_profile_avatar__LgrlV",A="Avatar_btn_add_avatar__yC+27",I="Avatar_plus__ZhTjb";var T=t(7382),U=t(3401);const M=e=>{var s;let{avatar:t,isOwnProfile:a}=e;const n=(0,r.wA)(),{user:l,loading:i}=(0,r.d4)((e=>e.auth)),[c,d]=(0,o.useState)(localStorage.getItem("avatarURL")||(null!==(s=null===l||void 0===l?void 0:l.avatarURL)&&void 0!==s?s:""));return(0,o.useEffect)((()=>{d(a?(0,F.U9)(null===l||void 0===l?void 0:l.avatarURL):(0,F.U9)(t))}),[null===l||void 0===l?void 0:l.avatarURL,t,a]),(0,O.jsxs)("div",{className:S,children:[(0,O.jsx)("img",{alt:"User avatar",src:c,className:E,onError:()=>d("".concat("/team-project-foodies-frontend","/avatar-placeholder.svg"))}),a&&(0,O.jsxs)("label",{htmlFor:"avatar",className:A,children:[(0,O.jsx)(T.A,{name:"icon-plus",className:I}),(0,O.jsx)("input",{style:{display:"none"},type:"file",id:"avatar",name:"avatar",accept:".jpg, .jpeg, .png",onChange:e=>{const s=e.target.files[0];if(!s)return;const t=new FormData;t.append("avatar",s);try{n((0,N.Oh)(t))}catch(a){U.oR.error("Error occured: ".concat(a.message)),console.error(a)}}})]}),i&&(0,O.jsx)(g.default,{})]})},B=e=>{let{userId:s,isOwnProfile:t}=e;const n=(0,r.wA)(),l=(0,a.Zp)(),i=(0,a.zy)(),c=(0,r.d4)(C.SS),d=(0,r.d4)(C.Ef),[_,u]=(0,o.useState)(!0),[m,b]=(0,o.useState)({}),[y,P]=(0,o.useState)(!1),L=i.pathname.split("/"),S=L[L.length-1],E=()=>{P(!1)};return(0,o.useEffect)((()=>{(async()=>{try{if(!s)return;const e=await(0,w.ON)({id:s});b(e),n((0,k.Yk)(e.recipesCount)),n((0,k.CI)(e.favorites)),n((0,k.iF)(e.followersCount)),n((0,k.Uy)(e.followingCount))}catch(e){U.oR.error("Error occured: ".concat(e.message)),console.error(e)}finally{u(!1)}})()}),[n,s]),(0,O.jsxs)(o.Suspense,{fallback:(0,O.jsx)(g.default,{}),children:[(0,O.jsxs)("div",{className:f,children:[(0,O.jsxs)("div",{className:h,children:[(0,O.jsx)(M,{avatar:m.avatarURL,isOwnProfile:t}),(0,O.jsx)("p",{className:j,children:_||!m.name?"User name":m.name}),(0,O.jsx)(R,{userDetails:m,isLoading:_,isOwnProfile:t})]}),t?(0,O.jsx)("button",{type:"button",className:x,onClick:()=>{P(!0)},children:"Log Out"}):m.isFollowing?(0,O.jsx)("button",{type:"button",className:x,onClick:()=>{(async()=>{try{if(!s)return;if(await(0,w.Qt)(m.id),b((e=>({...e,followersCount:m.followersCount-1,isFollowing:!1}))),"followers"===S){const e=await(0,w.ri)({id:s,page:1,limit:c});n((0,k.dT)(e.followers))}n((0,k.iF)(d-1))}catch(e){U.oR.error("Error occured: ".concat(e.message)),console.error(e)}})()},children:"Following"}):(0,O.jsx)("button",{type:"button",className:x,onClick:()=>{(async()=>{try{if(!s)return;if(await(0,w.pV)(m.id),b((e=>({...e,followersCount:m.followersCount+1,isFollowing:!0}))),"followers"===S){const e=await(0,w.ri)({id:s,page:1,limit:c});n((0,k.dT)(e.followers))}n((0,k.iF)(d+1))}catch(e){(0,F.Qg)(e.message)}})()},children:"Follow"})]}),y&&(0,O.jsx)(p.default,{isOpen:y,onClose:E,children:(0,O.jsx)(v.default,{handleLogOut:()=>{n((0,N.ri)()),E(),l("/")},closeModal:E})})]})};var D=t(5475);const V="ProfileTabs_tabs_container__REqVB",Y="ProfileTabs_overflow_container__FjJLW",G="ProfileTabs_tabs_list__jkHOB",W="ProfileTabs_tab_item__RX8Us",q="ProfileTabs_tab_link__ECB73",z="ProfileTabs_active__xNjl6",H=e=>{let{userId:s,isOwnProfile:t}=e;const o=(0,a.zy)(),r=e=>{let{isActive:s}=e;return"".concat(q," ").concat(s?z:"")};return(0,O.jsxs)("div",{className:V,children:[(0,O.jsx)("div",{className:Y,children:(0,O.jsxs)("ul",{className:G,children:[(0,O.jsx)("li",{className:W,children:(0,O.jsx)(D.k2,{to:"/user/".concat(s,"/recipies"),state:{from:o},className:r,children:t?"MY RECIPES":"RECIPES"})}),t&&(0,O.jsx)("li",{className:W,children:(0,O.jsx)(D.k2,{to:"/user/".concat(s,"/favorites"),state:{from:o},className:r,children:"MY FAVORITES"})}),(0,O.jsx)("li",{className:W,children:(0,O.jsx)(D.k2,{to:"/user/".concat(s,"/followers"),state:{from:o},className:r,children:"FOLLOWERS"})}),t&&(0,O.jsx)("li",{className:W,children:(0,O.jsx)(D.k2,{to:"/user/".concat(s,"/following"),state:{from:o},className:r,children:"FOLLOWING"})})]})}),(0,O.jsx)(a.sv,{})]})},K=()=>{const{id:e}=(0,a.g)(),{user:s}=(0,r.d4)((e=>e.auth)),[t,f]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{s&&s.id&&e&&f(s.id===e)}),[s,e]),(0,O.jsxs)(c.default,{className:n,children:[(0,O.jsx)(u.M,{currentPageName:"profile"}),(0,O.jsxs)("div",{className:l,children:[(0,O.jsx)(d.A,{children:"Profile"}),(0,O.jsx)(_.A,{children:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]}),(0,O.jsxs)("div",{className:i,children:[(0,O.jsx)(B,{userId:e,isOwnProfile:t}),(0,O.jsx)(H,{userId:e,isOwnProfile:t})]}),(0,O.jsx)(m.A,{})]})}},3775:(e,s,t)=>{"use strict";t.d(s,{Cp:()=>n,Ef:()=>i,Oe:()=>c,SS:()=>_,TM:()=>u,Ub:()=>l,fr:()=>o,ft:()=>m,s0:()=>d,tH:()=>r,xu:()=>a});const a=e=>e.auth.user,o=e=>e.list.list,r=e=>e.list.totalUsers,n=e=>e.list.favorites,l=e=>e.list.recipes,i=e=>e.list.followers,c=e=>e.list.following,d=e=>e.list.page,_=e=>e.list.limit,u=e=>e.list.isLoading,m=e=>e.list.limit},8139:(e,s)=>{var t;!function(){"use strict";var a={}.hasOwnProperty;function o(){for(var e="",s=0;s<arguments.length;s++){var t=arguments[s];t&&(e=n(e,r(t)))}return e}function r(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var s="";for(var t in e)a.call(e,t)&&e[t]&&(s=n(s,t));return s}function n(e,s){return s?e?e+" "+s:e+s:e}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(s,[]))||(e.exports=t)}()}}]);
//# sourceMappingURL=438.a4563367.chunk.js.map